{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/components/header.js","webpack:///./src/js/components/social.js","webpack:///./src/js/helpers.js","webpack:///./src/js/main.js","webpack:///./src/js/modules/lazyLoading.js","webpack:///./src/js/modules/scrollToAnchor.js","webpack:///./src/js/vendor.js","webpack:///./src/js/vendor/fancybox3.5.7-rutube-support/jquery.fancybox.js","webpack:///./src/js/vendor/ie-fix.js","webpack:///./src/js/vendor/jquery.inview.js","webpack:///./src/js/vendor/vh-fix.js"],"names":["openMenu","Promise","resolve","$","addClass","attr","helpers","lockScroll","$header","find","removeClass","setImmediate","$body","css","concat","getScrollbarWidth","setTimeout","closeMenu","toggleMenu","event","preventDefault","stopPropagation","currentTarget","hasClass","init","on","$document","e","$container","is","target","has","length","key","destroy","off","document","querySelector","list","querySelectorAll","Array","prototype","forEach","call","item","addEventListener","social","dataset","url","location","origin","pathname","Share","vars","$window","window","body","$html","documentElement","isMobile","innerWidth","isIE","isIOS","winWidth","clearText","text","trim","replace","setCookie","name","value","days","expires","date","Date","setTime","getTime","toUTCString","cookie","getCookie","nameEQ","ca","split","i","c","charAt","substring","indexOf","eraseCookie","dataScrollLocks","state","$element","element","get","Set","scrollLocks","add","bodyScrollLock","reserveScrollBarGap","size","scrollTo","time","arguments","undefined","offset","stop","animate","scrollTop","top","parseInt","scrollDiv","width","clientWidth","clientHeight","offsetHeight","createElement","style","cssText","appendChild","offsetWidth","hasHoverSupport","hoverSupport","matchMedia","matches","ontouchstart","resize","Swiper","use","Navigation","Pagination","EffectFade","Thumbs","ieFix","vhFix","lazyLoading","scrollToAnchor","datetimepicker","setLocale","jQuery","extend","validator","messages","required","email","addMethod","regexp","constructor","RegExp","global","lastIndex","optional","test","param","sum","index","files","app","$target","data","options","type","toggleClass","fancybox","touch","autoFocus","backFocus","afterShow","each","$item","update","append","outerWidth","anime","loadMore","getURLParam","localStorage","confirmLocation","closest","referrer","history","back","analytics","$this","open","scrollLeft","left","URL","searchParams","href","vw","px","base","baseMobile","output","isInView","scriptLoading","src","callback","script","loaded","setAttribute","onreadystatechange","onload","getElementsByTagName","header","trigger","selectLocation","$select","select2","dropdownParent","minimumInputLength","language","noResults","inputTooShort","minimum","ajax","dataType","val","mobileMenu","$module","slideDown","slideUp","slider","hide","slidesPerView","spaceBetween","allowTouchMove","pagination","el","clickable","slides","realIndex","category","objects","breakpoints","news","footer","accordion","$items","$content","$activeItems","filter","tab","$tab","gallery","$gallery","thumbs","preview","navigation","prevEl","nextEl","swiper","mask","$mask","inputmask","toString","showMaskOnHover","clearIncomplete","calendar","$input","minDate","maxDate","timepicker","format","scrollInput","dayOfWeekStart","valid","_unused","select","minimumResultsForSearch","Infinity","_unused2","multipleFile","$multiple","$list","$template","max","addField","prepend","html","rules","toUpperCase","parseFloat","toFixed","count","countActive","remove","form","$form","$searchInput","validate","lang","highlight","errorClass","validClass","findByName","unhighlight","submitHandler","submit","preparedData","processData","contentType","serialize","success","result","reset","slideTo","close","dataLayer","push","eventCategory","eventAction","eventLabel","title","message","becomePartner","$text","hover","eq","dealers","$map","$mapList","map","$city","inited","setMarkers","markers","geoObjects","removeAll","marker","ymaps","Placemark","iconLayout","iconImageHref","icon","iconImageSize","iconImageOffset","events","getBounds","setBounds","getZoom","setZoom","getMarkers","city","response","ready","Map","center","lat","lng","zoom","controls","topMenu","$menu","freeMode","resistance","resistanceRatio","householdSlider","productInfo","fixed","$fixedItem","outerHeight","productSlider","seriesSlider","loop","seriesTag","buyers","$filter","loadData","pin","markerItem","set","pinActive","modalBid","autoHeight","activeIndex","$required","slideNext","slidePrev","serviceDetail","setMarker","active","image","w","h","$parent","offsetTop","up","$up","cookies","$cookie","cookiesAgree","fadeIn","fadeOut","cursor","cursorX","clientX","show","clientY","initApps","appIndex","appName","appNameCamel","m","observer","lozad","rootMargin","threshold","enableAutoReload","classList","observe","img","triggerLoad","id","speed","then","svg4everybody","objectFitImages","require","console","info","stuff","fn","defaults","closeExisting","gutter","keyboard","preventCaptionOverlap","arrows","infobar","smallBtn","toolbar","buttons","idleTime","protect","modal","preload","settings","iframe","tpl","scrolling","video","autoStart","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","arrowLeft","arrowRight","parentEl","hideScrollbar","trapFocus","fullScreen","vertical","momentum","hash","media","slideShow","hideOnClose","axis","wheel","onInit","noop","beforeLoad","afterLoad","beforeShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","isQuery","obj","hasOwnProperty","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","clearTimeout","transitionEnd","t","transitions","transition","OTransition","MozTransition","WebkitTransition","forceRedraw","$el","mergeOpts","opts1","opts2","rez","isArray","inViewport","elem","elemCenter","ownerDocument","x","getBoundingClientRect","y","elementFromPoint","FancyBox","content","opts","self","isPlainObject","currIndex","prevIndex","prevPos","currPos","firstRun","group","addContent","firstItem","firstItemOpts","buttonStr","getInstance","scrollHeight","innerHeight","translate","appendTo","$refs","container","activate","jumpTo","str","arr","match","n","items","makeArray","found","srcParts","$orig","inArray","$thumb","$trigger","thumb","caption","apply","shift","Object","keys","updateControls","isActive","create","focus","addEvents","removeEvents","previous","next","isScaledDown","originalEvent","requestId","stage","instance","keycode","keyCode","which","ctrlKey","altKey","shiftKey","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","clearInterval","duration","pos","groupLen","isMoved","slidePos","stagePos","prop","diff","isClosing","isAnimating","createSlide","forcedDuration","isNumeric","$slide","loadSlide","getTranslate","slide","isComplete","className","join","leftPos","setTranslate","transform","opacity","complete","isLoaded","revealContent","updateSlide","scaleToActual","canvasWidth","canvasHeight","height","newImgWidth","newImgHeight","imgPos","posX","posY","scaleX","scaleY","hasError","updateCursor","SlideShow","scaleToFit","end","getFitPos","maxWidth","maxHeight","minRatio","aspectRatio","Math","min","floor","ratio","adjustCaption","adjustLayout","centerSlide","siblings","parent","children","abs","nextWidth","nextHeight","canPan","isZoomable","Guestures","isFunction","fitPos","ajaxLoad","isLoading","setImage","setIframe","setContent","videoFormat","setError","showLoading","textStatus","error","jqXHR","one","abort","ghost","$img","$image","checkSrcset","onerror","$ghost","setBigImage","srcset","temp","pxRatio","windowWidth","devicePixelRatio","ret","postfix","sort","a","b","j","sizes","resolveImageSlideSize","naturalWidth","naturalHeight","round","hideLoading","readyState","imgWidth","imgHeight","$iframe","isReady","frameWidth","frameHeight","$contents","contents","ignore","ceil","unbind","empty","isRevealed","parents","$placeholder","insertAfter","after","$smallBtn","wrap","first","wrapInner","$spinner","button","preventOverlap","$caption","$clone","captionH","clone","marginBottom","inlinePadding","actualPadding","disableLayoutFix","start","effect","effectClassName","getThumbPos","thumbPos","btw","brw","bbw","blw","Document","exitFullscreen","webkitExitFullscreen","prev","focusableStr","focusableItems","focusedItemIndex","activeElement","isVisible","d","domRect","done","cleanUp","$focus","scrollX","scrollY","args","slice","unshift","hasHiddenControls","andCaption","toggleControls","version","command","all","navigator","userAgent","use3d","div","getComputedStyle","getPropertyValue","documentMode","props","position","to","leaveAnimationName","from","propertyName","callCallback","_run","isDefaultPrevented","selector","focusStr","$pressed","youtube","matcher","params","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","rutube","frameBorder","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","p","decodeURIComponent","p1","s","origSrc","contentSource","VideoAPILoader","loading","load","vendor","_this","onYouTubeIframeAPIReady","player","YT","Player","onStateChange","Vimeo","afterShowFb","getPointerXY","touches","changedTouches","pageX","pageY","distance","point2","point1","what","sqrt","pow","isClickable","onclick","atts","attributes","nodeName","substr","hasScrollbars","overflowY","overflowX","horizontal","scrollWidth","isScrollable","$bg","bg","$stage","proxy","tapped","isTouchDevice","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","startTime","distanceX","distanceY","contentLastPos","contentStartPos","sliderStartPos","onscroll","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","removeEventListener","ontouchmove","ontouchend","newPoints","onSwipe","onPan","onZoom","swiping","angle","atan2","PI","sliderLastPos","limitMovement","currentOffsetX","currentOffsetY","currentWidth","currentHeight","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","newOffsetX","newOffsetY","limitPosition","newWidth","newHeight","endDistanceBetweenFingers","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","translateFromTranslatingY","newPos","panning","zooming","endPoints","dMs","onTap","velocityX","velocityY","endPanning","endZooming","endSwiping","len","canAdvance","speedX","tapX","tapY","where","process","prefix","action","addBack","progress","timer","$button","toggle","$progress","inner","force","clear","removeAttr","onInitFb","beforeShowFb","afterKeydownFb","keypress","beforeCloseFbOnDeactivateFb","hidden","fnMap","FullScreen","request","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","fullscreenchange","beforeCloseFb","CLASS","CLASS_ACTIVE","FancyThumbs","$grid","innerHTML","that","escapeSelector","sel","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","parseUrl","pop","triggerFromUrl","getGalleryID","currentHash","origHash","hashTimer","search","hasCreatedHistory","replaceState","fb","reverse","tmp","prevTime","currTime","deltaY","deltaX","wheelDelta","detail","performance","now","nowOffset","timing","navigationStart","NodeList","thisArg","CustomEvent","bubbles","cancelable","evt","createEvent","initCustomEvent","Event","includes","defineProperty","searchElement","fromIndex","TypeError","o","k","sameValueZero","isNaN","Element","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","parentElement","parentNode","nodeType","configurable","enumerable","writable","argArr","docFrag","createDocumentFragment","argItem","isNode","Node","createTextNode","String","insertBefore","firstChild","DocumentFragment","before","CharacterData","DocumentType","removeChild","startsWith","rawPos","ie11Download","Error","filename","getAttribute","xhr","XMLHttpRequest","onloadstart","responseType","msSaveOrOpenBlob","send","msSaveBlob","downloadLinks","unfocusableSvg","MSInputMethodContext","svg","ieFooterNailing","main","headerH","footerH","mainHMin","mainHeight","minHeight","factory","define","exports","_typeof","module","inviewObjects","viewportSize","viewportOffset","special","inview","checkInView","inviewObject","guid","splice","getViewportSize","mode","domObject","compatMode","support","boxModel","getViewportOffset","pageYOffset","pageXOffset","$elements","contains","elementSize","elementOffset","inView","bind","attachEvent","vh","setProperty"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/js/main.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import helpers from '../helpers';\r\n\r\nfunction openMenu() {\r\n\treturn new Promise((resolve) => {\r\n\t\t$('.js-burger').addClass('is-disabled').attr('disabled', true);\r\n\r\n\t\thelpers.lockScroll(true, helpers.$header.find('.header__menu'), 'header');\r\n\r\n\t\thelpers.$header.addClass('is-menu-opened');\r\n\t\t$('.header__menu').removeClass('is-hidden');\r\n\r\n\t\tsetImmediate(() => {\r\n\t\t\thelpers.$body.css('padding-right', `${helpers.getScrollbarWidth()}px`);\r\n\t\t\thelpers.$header.css('right', `${helpers.getScrollbarWidth()}px`);\r\n\t\t});\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t$('.header__menu').addClass('is-active');\r\n\t\t\t$('.js-burger').removeClass('is-disabled').attr('disabled', false);\r\n\r\n\t\t\tresolve();\r\n\t\t}, 100);\r\n\t});\r\n}\r\n\r\nfunction closeMenu() {\r\n\treturn new Promise((resolve) => {\r\n\t\t$('.js-burger').addClass('is-disabled').attr('disabled', true);\r\n\r\n\t\thelpers.lockScroll(false, helpers.$header.find('.header__menu'), 'header');\r\n\t\thelpers.$body.css('padding-right', '');\r\n\t\thelpers.$header.css('right', '');\r\n\r\n\t\thelpers.$header.removeClass('is-menu-opened');\r\n\r\n\t\t$('.header__menu').removeClass('is-active');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t$('.header__menu').addClass('is-hidden');\r\n\t\t\t$('.js-burger').removeClass('is-disabled').attr('disabled', false);\r\n\r\n\t\t\tresolve();\r\n\t\t}, 500);\r\n\t});\r\n}\r\n\r\nfunction toggleMenu(event) {\r\n\tevent.preventDefault();\r\n\tevent.stopPropagation();\r\n\r\n\tif ($(event.currentTarget).hasClass('is-active')) {\r\n\t\t$(event.currentTarget).removeClass('is-active');\r\n\t\tcloseMenu();\r\n\t} else {\r\n\t\t$(event.currentTarget).addClass('is-active');\r\n\t\topenMenu();\r\n\t}\r\n}\r\n\r\nfunction init() {\r\n\thelpers.$header = $('.header');\r\n\r\n\t$('.js-burger').on('click.header', toggleMenu);\r\n\r\n\thelpers.$document\r\n\t\t.on('click.header', (e) => {\r\n\t\t\tlet $container = $('.header__menu');\r\n\r\n\t\t\tif ($container.is(e.target) && $container.has(e.target).length === 0 && $container.hasClass('is-active')) {\r\n\t\t\t\tcloseMenu();\r\n\t\t\t\t$('.js-burger').removeClass('is-active');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('keyup.header', (e) => {\r\n\t\t\tif ((e.key === 'Escape' || e.key === 'Esc') && $('.header__menu').hasClass('is-active')) {\r\n\t\t\t\tcloseMenu();\r\n\t\t\t\t$('.js-burger').removeClass('is-active');\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nfunction destroy() {\r\n\t$('.js-burger').off('.header');\r\n\thelpers.$document.off('.header');\r\n}\r\n\r\nexport default {\r\n\tinit,\r\n\tdestroy,\r\n\topenMenu,\r\n\tcloseMenu,\r\n};\r\n","import Share from 'ninelines-sharing';\r\n\r\nif (document.querySelector('[data-social]')) {\r\n\tconst list = document.querySelectorAll('[data-social]');\r\n\r\n\tArray.prototype.forEach.call(list, (item) => {\r\n\t\titem.addEventListener('click', (e) => {\r\n\t\t\tconst social = e.currentTarget.dataset.social;\r\n\t\t\tconst url = location.origin + location.pathname;\r\n\r\n\t\t\tShare[social](url);\r\n\t\t});\r\n\t});\r\n}\r\n","import * as bodyScrollLock from 'body-scroll-lock';\r\n\r\nlet vars = {};\r\n\r\nvars.$document = $(document);\r\nvars.$window = $(window);\r\nvars.$body = $(document.body);\r\nvars.$html = $(document.documentElement);\r\nvars.isMobile = () => innerWidth < 1024;\r\nvars.isIE = () => vars.$html.hasClass('is-browser-ie');\r\nvars.isIOS = () => vars.$html.hasClass('is-os-ios');\r\nvars.winWidth = window.innerWidth;\r\n\r\n/**\r\n* Очистить текст от спецсимволов\r\n* @param {string} text Обязательное, строка для очистки\r\n* @returns {string} Очищенная строка\r\n*/\r\nvars.clearText = (text) => {\r\n\treturn text.trim().replace(/\\s+/g, ' ');\r\n};\r\n\r\n/**\r\n* Создать куки запись\r\n* @param {string} name Обязательное, название записи\r\n* @param {string} value Обязательное, значение записи\r\n* @param {string} days Обязательное, время для жизни\r\n*/\r\nvars.setCookie = (name, value, days) => {\r\n\tlet expires = '';\r\n\r\n\tif (days) {\r\n\t\tlet date = new Date();\r\n\t\tdate.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\r\n\t\texpires = `; expires=${date.toUTCString()}`;\r\n\t}\r\n\r\n\tdocument.cookie = `${name}=${value || ''}${expires}; path=/`;\r\n};\r\n\r\n/**\r\n* Получить куки запись\r\n* @param {string} name Обязательное, название записи\r\n*/\r\nvars.getCookie = (name) => {\r\n\tlet nameEQ = `${name}=`;\r\n\tlet ca = document.cookie.split(';');\r\n\r\n\tfor (let i = 0; i < ca.length; i++) {\r\n\t\tlet c = ca[i];\r\n\r\n\t\twhile (c.charAt(0) === ' ') {\r\n\t\t\tc = c.substring(1, c.length);\r\n\t\t}\r\n\r\n\t\tif (c.indexOf(nameEQ) === 0) {\r\n\t\t\treturn c.substring(nameEQ.length, c.length);\r\n\t\t}\r\n\t}\r\n\r\n\treturn null;\r\n};\r\n\r\n/**\r\n* Удалить куки запись\r\n* @param {string} name Обязательное, название записи\r\n*/\r\nvars.eraseCookie = (name) => {\r\n\tdocument.cookie = `${name}=; Max-Age=-99999999;`;\r\n};\r\n\r\nlet dataScrollLocks;\r\n/**\r\n* Блокирует скролл страницы\r\n* Необходим для использования модальных окон\r\n* @param {boolean} state Обязательное\r\n* @param {string} element Обязательное, элемент которому нужно разрешить скролл\r\n* @param {string} name Необязательное, ключ,\r\n* чтобы была возможность открывать окно поверх другого окна\r\n*/\r\nvars.lockScroll = (state, $element, name) => {\r\n\tconst element = $element.get(0) ? $element.get(0) : $element;\r\n\r\n\tif (typeof dataScrollLocks === 'undefined') {\r\n\t\tdataScrollLocks = new Set();\r\n\t}\r\n\r\n\tlet scrollLocks = dataScrollLocks;\r\n\r\n\tif (state) {\r\n\t\tif (typeof name === 'string') {\r\n\t\t\tscrollLocks.add(name);\r\n\t\t}\r\n\r\n\t\tbodyScrollLock.disableBodyScroll(element, {\r\n\t\t\treserveScrollBarGap: true,\r\n\t\t});\r\n\r\n\t\tsetImmediate(() => {\r\n\t\t\tvars.$html.addClass('is-lock-scroll');\r\n\t\t});\r\n\t} else {\r\n\t\tif (typeof name === 'string') {\r\n\t\t\tscrollLocks.delete(name);\r\n\t\t}\r\n\r\n\t\tbodyScrollLock.enableBodyScroll(element);\r\n\r\n\t\tif (!scrollLocks.size) {\r\n\t\t\tbodyScrollLock.clearAllBodyScrollLocks();\r\n\r\n\t\t\tvars.$html.removeClass('is-lock-scroll');\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n* Скролл до элемента\r\n* @param {string} $container Обязательное, элемент к которому нужно скроллить\r\n* @param {string|number} time Необязательное, время скролла\r\n* @param {string|number} offset Необязательное, смещение скролла может быть + или -\r\n*/\r\nvars.scrollTo = ($container, time = 500, offset = 0) => {\r\n\tvars.$html.css('scroll-behavior', 'initial');\r\n\t$('html, body').stop().animate({\r\n\t\tscrollTop: `${$container.offset().top + parseInt(offset, 10)}`,\r\n\t}, parseInt(time, 10));\r\n\r\n\tsetTimeout(() => {\r\n\t\tvars.$html.css('scroll-behavior', '');\r\n\t}, parseInt(time, 10) + 100);\r\n};\r\n\r\nlet scrollDiv;\r\n\r\n/**\r\n* Получить размер скроллбара если он есть\r\n* @returns {number} размер скроллбара\r\n*/\r\nvars.getScrollbarWidth = () => {\r\n\tconst width = window.innerWidth - vars.$html.get(0).clientWidth;\r\n\r\n\tif (width || document.documentElement.clientHeight >= document.documentElement.offsetHeight) {\r\n\t\treturn width;\r\n\t}\r\n\r\n\t// Document doesn't have a scrollbar, possibly because there is not enough content so browser doesn't show it\r\n\tif (!scrollDiv) {\r\n\t\tscrollDiv = document.createElement('div');\r\n\t\tscrollDiv.style.cssText = 'width:100px;height:100px;overflow:scroll !important;position:absolute;top:-9999px';\r\n\t\tdocument.body.appendChild(scrollDiv);\r\n\t}\r\n\r\n\treturn scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n};\r\n\r\n/**\r\n* Узнать есть доступен ли ховер\r\n* @returns {boolean}\r\n*/\r\nfunction hasHoverSupport() {\r\n\tlet hoverSupport;\r\n\r\n\tif (vars.isIE && vars.getScrollbarWidth()) {\r\n\t\t// On touch devices scrollbar width is usually 0\r\n\t\thoverSupport = true;\r\n\t} else if (vars.isMobile()) {\r\n\t\thoverSupport = false;\r\n\t} else if (window.matchMedia('(any-hover: hover)').matches || window.matchMedia('(hover: hover)').matches) {\r\n\t\thoverSupport = true;\r\n\t} else if (window.matchMedia('(hover: none)').matches) {\r\n\t\thoverSupport = false;\r\n\t} else {\r\n\t\thoverSupport = typeof vars.$html.ontouchstart === 'undefined';\r\n\t}\r\n\r\n\treturn hoverSupport;\r\n}\r\n\r\nif (!hasHoverSupport()) {\r\n\tvars.$html.removeClass('has-hover').addClass('no-hover');\r\n} else {\r\n\tvars.$html.removeClass('no-hover').addClass('has-hover');\r\n}\r\n\r\n/**\r\n* Переопределение доступности ховера\r\n*/\r\nfunction resize() {\r\n\tsetTimeout(() => {\r\n\t\tif (vars.winWidth !== window.innerWidth) {\r\n\t\t\tif (!hasHoverSupport()) {\r\n\t\t\t\tvars.$html.removeClass('has-hover').addClass('no-hover');\r\n\t\t\t} else {\r\n\t\t\t\tvars.$html.removeClass('no-hover').addClass('has-hover');\r\n\t\t\t}\r\n\r\n\t\t\tvars.winWidth = window.innerWidth;\r\n\t\t}\r\n\t}, 300);\r\n}\r\n\r\nvars.$window.on('resize', resize);\r\n\r\nexport default vars;\r\n","import './vendor';\nimport vars from './helpers';\nimport './components/social';\nimport {ieFix} from './vendor/ie-fix';\nimport {vhFix} from './vendor/vh-fix';\nimport lazyLoading from './modules/lazyLoading';\nimport scrollToAnchor from './modules/scrollToAnchor';\nimport Swiper, { Navigation, Pagination, EffectFade, Thumbs, } from 'swiper';\nimport 'jquery-validation';\nimport '../../node_modules/jquery-validation/dist/additional-methods.js';\nimport '../../node_modules/jquery-validation/dist/localization/messages_ru.js';\n// import { fancybox } from '@fancyapps/fancybox';\nimport { fancybox } from './vendor/fancybox3.5.7-rutube-support/jquery.fancybox';\nimport inputmask from 'inputmask/dist/jquery.inputmask';\nimport select2 from 'select2';\nimport datetimepicker from 'jquery-datetimepicker';\n\nSwiper.use([Navigation, Pagination, EffectFade, Thumbs,]);\n\nieFix();\nvhFix();\nlazyLoading.init();\n\nconst $document = $(document);\n\nconst $window = $(window);\n\nconst $html = $('html');\n\nconst $body = $('body');\n\nscrollToAnchor.init();\n\nlazyLoading.init();\n\n$.datetimepicker.setLocale('ru');\n\njQuery.extend(jQuery.validator.messages, {\n\trequired: 'Поле обязательно для заполнения',\n\temail: 'Укажите корректный E-mail',\n});\n\n$.validator.addMethod(\n\t'regex',\n\tfunction (value, element, regexp) {\n\t\tif (regexp && regexp.constructor != RegExp) {\n\t\t\tregexp = new RegExp(regexp[0], regexp[1]);\n\t\t} else if (regexp.global) {\n\t\t\tregexp.lastIndex = 0;\n\t\t}\n\n\t\treturn this.optional(element) || regexp.test(value);\n\t},\n\t'Неверный формат',\n);\n\n$.validator.addMethod('filessize', function (value, element, param) {\n\tlet sum = 0;\n\n\tfor (let index = 0; index < element.files.length; index++) {\n\t\tsum += element.files[index].size;\n\t}\n\n\treturn this.optional(element) || sum <= param * 1000000;\n}, 'Файлы не могут превышать {0} МБ');\n\n$.validator.addMethod('filescount', function (value, element, param) {\n\treturn this.optional(element) || element.files.length <= param;\n}, 'Количество файлов не должно превышать {0} шт');\n\nlet app = {\n\tglobal: {\n\t\tinit() {\n\t\t\t$('.js-goto').on('click', (e) => {\n\t\t\t\tlet $target = $($(e.currentTarget).data('target') || $(e.currentTarget).attr('href'));\n\n\t\t\t\tif ($target.length) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\twindow.scrollTo(0, $target.offset().top - 150);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$document.on('click', '.js-toggle-class', (e) => {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet options = $(e.currentTarget).data();\n\n\t\t\t\tswitch (options.type) {\n\t\t\t\t\tcase 'add':\n\t\t\t\t\t\t$html.addClass(options.class);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'remove':\n\t\t\t\t\t\t$html.removeClass(options.class);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'toggle':\n\t\t\t\t\t\t$html.toggleClass(options.class);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$html.toggleClass(options.class);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('[data-fancybox]').fancybox({\n\t\t\t\ttouch: false,\n\t\t\t\tautoFocus: false,\n\t\t\t\tbackFocus: false,\n\t\t\t\tafterShow() {\n\t\t\t\t\t$('.fancybox-container:visible .swiper-container').each((index, item) => {\n\t\t\t\t\t\tconst $item = $(item);\n\n\t\t\t\t\t\tif ($item.data('slider')) {\n\t\t\t\t\t\t\t$item.data('slider').update();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('head').append(`<style type=\"text/css\">\n\t\t\t\thtml {\n\t\t\t\t\t--compensate-scrollbar:${(window.innerWidth - document.documentElement.clientWidth) / -2}px;\n\t\t\t\t}\n\t\t\t\t</style>`);\n\n\t\t\t$body.css({\n\t\t\t\t'--width': $window.outerWidth(),\n\t\t\t});\n\t\t\t$window.on('resize', () => {\n\t\t\t\t$body.css({\n\t\t\t\t\t'--width': $window.outerWidth(),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tapp.anime.init();\n\t\t\tapp.loadMore.init();\n\n\t\t\tif (app.getURLParam($('.header__location__change').data('param'))) {\n\t\t\t\tlocalStorage.confirmLocation = 'yes';\n\t\t\t}\n\n\t\t\tif (localStorage.confirmLocation !== 'yes') {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$html.addClass('is-location-confirm');\n\t\t\t\t}, 2000);\n\t\t\t}\n\n\t\t\t$('.header__location__confirm__yes').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tlocalStorage.confirmLocation = 'yes';\n\t\t\t\t$html.removeClass('is-location-confirm');\n\t\t\t});\n\n\t\t\t$('.header__location__confirm__no').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t$html.removeClass('is-location-confirm');\n\t\t\t\t$html.addClass('is-location-change');\n\t\t\t});\n\n\t\t\t$('.header__location__current, .mobile-menu__location__current').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t$html.removeClass('is-location-confirm');\n\t\t\t\t$html.toggleClass('is-location-change');\n\t\t\t});\n\n\t\t\t$document.on('click', (e) => {\n\t\t\t\tlet $target = $(e.target);\n\n\t\t\t\tif (!$target.closest('.header__location').length && !$target.closest('.mobile-menu__location').length) {\n\t\t\t\t\t$html.removeClass('is-location-change');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$document.on('click', '.js-link-return', (e) => {\n\t\t\t\tif (document.referrer) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\thistory.back();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tapp.analytics();\n\n\t\t\t$document.on('click', '.js-link', (e) => {\n\t\t\t\tlet $this = $(e.currentTarget);\n\n\t\t\t\te.preventDefault();\n\t\t\t\tif ($this.data('target') === '_blank') {\n\t\t\t\t\twindow.open($this.data('href'), '_blank');\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = $this.data('href');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$document.on('click', '.js-show-hide', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\n\t\t\t\tconst $target = $($this.data('target'));\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$this.toggleClass('is-active');\n\t\t\t\tif ($this.hasClass('is-active')) {\n\t\t\t\t\t$this.text($this.data('on'));\n\t\t\t\t\t$target.removeClass('is-hidden');\n\t\t\t\t} else {\n\t\t\t\t\t$this.text($this.data('off'));\n\t\t\t\t\t$target.addClass('is-hidden');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ($window.outerWidth() < 1024 && $('.top-menu-list ul').length) {\n\t\t\t\tif ($('.top-menu-list ul li').hasClass('is-active')) {\n\t\t\t\t\t$window.on('load', () => {\n\t\t\t\t\t\t$('.top-menu-list ul').scrollLeft($('.top-menu-list ul li.is-active').offset().left - ($window.outerWidth() / 2 - $('.top-menu-list ul li.is-active').outerWidth() / 2));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tgetURLParam(param, url) {\n\t\tif (url) {\n\t\t\treturn new URL(url).searchParams.get(param);\n\t\t}\n\n\t\treturn new URL(window.location.href).searchParams.get(param);\n\t},\n\tvw(px) {\n\t\tconst base = 1920;\n\n\t\tconst baseMobile = 375;\n\n\t\tlet output = px;\n\n\t\tif ($window.outerWidth() < 1920) {\n\t\t\toutput = px / base * $window.outerWidth();\n\t\t}\n\n\t\tif ($window.outerWidth() < 1025) {\n\t\t\toutput = px / baseMobile * $window.outerWidth();\n\t\t}\n\n\t\treturn output;\n\t},\n\tanime: {\n\t\tinit() {\n\t\t\t$('.anime').each((index, item) => {\n\t\t\t\tconst $item = $(item);\n\n\t\t\t\t$item.on('inview', (event, isInView) => {\n\t\t\t\t\tif (isInView) {\n\t\t\t\t\t\t$item.addClass('animated');\n\t\t\t\t\t\t$item.off('inview');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t},\n\tscriptLoading(src, callback) {\n\t\tlet script = document.createElement('script');\n\t\tlet loaded;\n\n\t\tscript.setAttribute('src', src);\n\t\tif (callback) {\n\t\t\tscript.onreadystatechange = script.onload = () => {\n\t\t\t\tif (!loaded) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t\tloaded = true;\n\t\t\t};\n\t\t}\n\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\t},\n\theader: {\n\t\tinit($header) {\n\t\t\t$header.find('.header__search-open').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\t$html.addClass('is-show-search');\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$header.find('.header__search__field').trigger('focus');\n\t\t\t\t}, 400);\n\t\t\t});\n\n\t\t\t$document.on('click', (e) => {\n\t\t\t\tlet $target = $(e.target);\n\n\t\t\t\tif (!$target.closest('.header__search').length) {\n\t\t\t\t\t$html.removeClass('is-show-search');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$header.find('.header__burger').on('click', () => {\n\t\t\t\t$html.toggleClass('is-show-mobile-menu');\n\t\t\t});\n\t\t},\n\t},\n\tselectLocation: {\n\t\tinit($select) {\n\t\t\t$select.find('select').select2({\n\t\t\t\tdropdownParent: $select.find('.input__field'),\n\t\t\t\tminimumInputLength: 3,\n\t\t\t\tlanguage: {\n\t\t\t\t\tnoResults() {\n\t\t\t\t\t\treturn 'Ничего не найдено';\n\t\t\t\t\t},\n\t\t\t\t\tinputTooShort(e) {\n\t\t\t\t\t\treturn `Нужно ввести минимум ${e.minimum} буквы`;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tajax: {\n\t\t\t\t\turl: $select.data('ajax'),\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t$select.find('select').on('change', (e) => {\n\t\t\t\twindow.location.href = $(e.currentTarget).val();\n\t\t\t});\n\t\t},\n\t},\n\tmobileMenu: {\n\t\tinit($module) {\n\t\t\t$module.find('.mobile-menu__list__plus').on('click', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$this.toggleClass('is-active');\n\t\t\t\tif ($this.hasClass('is-active')) {\n\t\t\t\t\t$module.find('.mobile-menu__list__drop').stop().slideDown(400);\n\t\t\t\t} else {\n\t\t\t\t\t$module.find('.mobile-menu__list__drop').stop().slideUp(400);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tslider: {\n\t\tinit($module) {\n\t\t\tif ($module.find('.swiper-slide').length < 2) {\n\t\t\t\t$module.find('.slider__pager').hide();\n\t\t\t}\n\n\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tspaceBetween: 0,\n\t\t\t\tallowTouchMove: $module.find('.swiper-slide').length < 2 ? false : true,\n\t\t\t\tpagination: {\n\t\t\t\t\tel: $module.find('.slider__pager')[0],\n\t\t\t\t\tclickable: true,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tslider.on('slideChange', () => {\n\t\t\t\t$module.removeClass('slider--dark');\n\t\t\t\tif ($(slider.slides[slider.realIndex]).data('mod') === 'dark') {\n\t\t\t\t\t$module.addClass('slider--dark');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tcategory: {\n\t\tinit($module) {\n\t\t\tif (vars.isMobile()) {\n\t\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\tspaceBetween: 1,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tobjects: {\n\t\tinit($module) {\n\t\t\tif (vars.isMobile()) {\n\t\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\tspaceBetween: app.vw(16),\n\t\t\t\t\tbreakpoints: {\n\t\t\t\t\t\t1024: {\n\t\t\t\t\t\t\tspaceBetween: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tnews: {\n\t\tinit($module) {\n\t\t\tif (vars.isMobile()) {\n\t\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\tspaceBetween: app.vw(16),\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tfooter: {\n\t\tinit($module) {\n\t\t\t$module.find('.footer__catalog__label').on('click', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$this.toggleClass('is-active');\n\t\t\t\tif ($this.hasClass('is-active')) {\n\t\t\t\t\t$module.find('.footer__catalog__list').stop().slideDown(400);\n\t\t\t\t} else {\n\t\t\t\t\t$module.find('.footer__catalog__list').stop().slideUp(400);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\taccordion: {\n\t\tinit($module) {\n\t\t\tconst $items = $module.find('.accordion__item');\n\n\t\t\t$module.find('.accordion__item__header').on('click', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\n\t\t\t\tconst $item = $this.closest('.accordion__item');\n\n\t\t\t\tconst $content = $item.find('.accordion__item__content');\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif ($item.hasClass('is-active')) {\n\t\t\t\t\t$item.removeClass('is-active');\n\t\t\t\t\t$content.slideUp(400);\n\t\t\t\t} else {\n\t\t\t\t\tconst $activeItems = $items.filter('.is-active');\n\n\t\t\t\t\t$activeItems.removeClass('is-active');\n\t\t\t\t\t$activeItems.find('.accordion__item__content').slideUp(400);\n\t\t\t\t\t$item.addClass('is-active');\n\t\t\t\t\t$content.slideDown(400);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\ttab: {\n\t\tinit($tab) {\n\t\t\t$tab.find('> .tab__list > ul a').on('click', (e) => {\n\t\t\t\tlet $this = $(e.currentTarget);\n\n\t\t\t\tlet $target = $tab.find(`> .tab__content > .tab__item[data-tab=\"${$this.data('tab')}\"]`);\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$tab.find('> .tab__list > ul a').removeClass('is-active');\n\t\t\t\t$tab.find('> .tab__content > .tab__item').removeClass('is-active');\n\t\t\t\t$this.addClass('is-active');\n\t\t\t\t$target.addClass('is-active');\n\n\t\t\t\tif(vars.isMobile()) {\n\t\t\t\t\t$tab.find('.tab__list ul').animate({\n\t\t\t\t\t\tscrollLeft: $this.offset().left - ($window.outerWidth() / 2 - $this.outerWidth() / 2) + $tab.find('.tab__list ul').scrollLeft(),\n\t\t\t\t\t}, 400);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!$tab.find('> .tab__list > ul a.is-active').length) {\n\t\t\t\t$tab.find('> .tab__list > ul li:first-child a').trigger('click');\n\t\t\t}\n\t\t},\n\t},\n\tgallery: {\n\t\tinit($gallery) {\n\t\t\tlet thumbs = new Swiper($gallery.find('.gallery__thumbs .swiper-container')[0], {\n\t\t\t\tslidesPerView: 'auto',\n\t\t\t\tspaceBetween: 16,\n\t\t\t});\n\t\t\tlet preview = new Swiper($gallery.find('.gallery__preview .swiper-container')[0], {\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tspaceBetween: 8,\n\t\t\t\tnavigation: {\n\t\t\t\t\tprevEl: $gallery.find('.arrow-prev')[0],\n\t\t\t\t\tnextEl: $gallery.find('.arrow-next')[0],\n\t\t\t\t},\n\t\t\t\tthumbs: {\n\t\t\t\t\tswiper: thumbs,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t$window.on('load', () => {\n\t\t\t\tthumbs.update();\n\t\t\t\tpreview.update();\n\t\t\t});\n\t\t}\n\t},\n\tmask: {\n\t\tinit($mask) {\n\t\t\t$mask.inputmask($mask.data('mask').toString(), {\n\t\t\t\tshowMaskOnHover: false,\n\t\t\t\tclearIncomplete: true,\n\t\t\t});\n\t\t},\n\t},\n\tcalendar: {\n\t\tinit($input) {\n\t\t\t$input.attr('type', 'text');\n\t\t\t$input.inputmask('99.99.9999', {\n\t\t\t\tshowMaskOnHover: false,\n\t\t\t\tclearIncomplete: true,\n\t\t\t});\n\t\t\t$input.datetimepicker({\n\t\t\t\tminDate: parseInt($input.data('limit'), 10) === -1 ? 0 : false,\n\t\t\t\tmaxDate: parseInt($input.data('limit'), 10) === 1 ? 0 : false,\n\t\t\t\ttimepicker: false,\n\t\t\t\tformat: 'd.m.Y',\n\t\t\t\tscrollInput: false,\n\t\t\t\tdayOfWeekStart: 1,\n\t\t\t});\n\t\t\t$input.on('change', () => {\n\t\t\t\ttry {\n\t\t\t\t\t$input.valid();\n\t\t\t\t} catch { }\n\t\t\t});\n\t\t},\n\t},\n\tselect: {\n\t\tinit($select) {\n\t\t\t$select.find('select').select2({\n\t\t\t\tminimumResultsForSearch: $select.data('search') ? 5 : Infinity,\n\t\t\t\tdropdownParent: $select.find('.input__field'),\n\t\t\t\tlanguage: {\n\t\t\t\t\tnoResults: function () {\n\t\t\t\t\t\treturn \"Ничего не найдено\";\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t$select.find('select').on('change', () => {\n\t\t\t\ttry {\n\t\t\t\t\t$select.find('select').valid();\n\t\t\t\t} catch {\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tmultipleFile: {\n\t\tinit($multiple) {\n\t\t\tconst $list = $multiple.find('.multiple-file__list');\n\t\t\tconst $template = $multiple.find('.multiple-file__template');\n\t\t\tconst max = parseInt($multiple.data('max'), 10);\n\n\t\t\tconst addField = () => {\n\t\t\t\tif ($list.find('.multiple-file__item').length < max) {\n\t\t\t\t\t$list.prepend($template.html());\n\n\t\t\t\t\t$list.find('[data-validation]').each((index, item) => {\n\t\t\t\t\t\t$(item).rules('add', $(item).data('validation'));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$multiple.on('change', '.multiple-file__item__upload input', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\t\t\t\tconst $item = $this.closest('.multiple-file__item');\n\n\t\t\t\t$item.removeClass('is-error');\n\t\t\t\tif (e.target.files.length) {\n\t\t\t\t\tif ($this.valid()) {\n\t\t\t\t\t\t$item.find('.multiple-file__item__file__name').text(e.target.files[0].name.split('.')[0]);\n\t\t\t\t\t\t$item.find('.multiple-file__item__file__info').text(`${e.target.files[0].name.split('.')[1].toUpperCase()}, ${parseFloat((e.target.files[0].size / 1000000).toFixed(2))} МБ`);\n\t\t\t\t\t\t$item.addClass('is-active');\n\t\t\t\t\t\taddField();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$item.removeClass('is-active');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$multiple.on('click', '.multiple-file__item__file__remove', (e) => {\n\t\t\t\tconst count = $list.find('.multiple-file__item').length;\n\t\t\t\tconst countActive = $list.find('.multiple-file__item.is-active').length;\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$(e.currentTarget).closest('.multiple-file__item').remove();\n\n\t\t\t\tif (countActive === max || count === 1) {\n\t\t\t\t\taddField();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\taddField();\n\t\t},\n\t},\n\tform: {\n\t\tinit($form) {\n\t\t\tconst $searchInput = $form.find('.input__field--search input');\n\n\t\t\t$searchInput.on('keyup change', () => {\n\t\t\t\tif ($searchInput.val().trim()) {\n\t\t\t\t\t$form.addClass('is-filled');\n\t\t\t\t} else {\n\t\t\t\t\t$form.removeClass('is-filled');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$form.find('.input__field__reset').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t$searchInput.val('').trigger('change');\n\t\t\t});\n\n\t\t\t$form.find('.input__field__eye').on('click', (e) => {\n\t\t\t\tlet $this = $(e.currentTarget);\n\t\t\t\tlet $input = $this.closest('.input__field').find('input');\n\n\t\t\t\te.preventDefault();\n\t\t\t\tif ($input.attr('type') === 'password') {\n\t\t\t\t\t$this.addClass('is-eye-view');\n\t\t\t\t\t$input.attr('type', 'text');\n\t\t\t\t} else {\n\t\t\t\t\t$this.removeClass('is-eye-view');\n\t\t\t\t\t$input.attr('type', 'password');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet validator = $form.validate({\n\t\t\t\tlang: 'ru',\n\t\t\t\trules: {},\n\n\t\t\t\thighlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === 'radio' || element.type === 'checkbox') {\n\t\t\t\t\t\tthis.findByName(element.name).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).addClass(errorClass).removeClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tunhighlight(element, errorClass, validClass) {\n\t\t\t\t\tif (element.type === 'radio' || element.type === 'checkbox') {\n\t\t\t\t\t\tthis.findByName(element.name).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(element).removeClass(errorClass).addClass(validClass);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tsubmitHandler(form) {\n\t\t\t\t\tif ($form.data('type') === 'submit') {\n\t\t\t\t\t\tform.submit();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet preparedData;\n\t\t\t\t\t\tlet processData;\n\t\t\t\t\t\tlet contentType;\n\n\t\t\t\t\t\t$form.removeClass('is-sended is-error');\n\n\t\t\t\t\t\t$form.find('.form__button .button').addClass('is-loading');\n\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\ttype: $form.attr('method'),\n\t\t\t\t\t\t\turl: $form.attr('action'),\n\t\t\t\t\t\t\tdata: preparedData ? preparedData : $form.serialize(),\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tprocessData,\n\t\t\t\t\t\t\tcontentType,\n\t\t\t\t\t\t\tsuccess(result) {\n\t\t\t\t\t\t\t\tif (result.result === true) {\n\t\t\t\t\t\t\t\t\t$form[0].reset();\n\t\t\t\t\t\t\t\t\tif ($form.closest('[data-app=\"modal-bid\"]').length) {\n\t\t\t\t\t\t\t\t\t\t$form.find('.swiper-container')[0].swiper.slideTo(0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$.fancybox.close();\n\n\t\t\t\t\t\t\t\t\tif ($form.data('event')) {\n\t\t\t\t\t\t\t\t\t\tdataLayer.push({\n\t\t\t\t\t\t\t\t\t\t\tevent: $form.data('event'),\n\t\t\t\t\t\t\t\t\t\t\teventCategory: $form.data('event'),\n\t\t\t\t\t\t\t\t\t\t\teventAction: 'send',\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ($form.data('event-label')) {\n\t\t\t\t\t\t\t\t\t\tdataLayer.push({\n\t\t\t\t\t\t\t\t\t\t\tevent: $form.data('event-label'),\n\t\t\t\t\t\t\t\t\t\t\teventCategory: $form.data('event-label'),\n\t\t\t\t\t\t\t\t\t\t\teventAction: 'send',\n\t\t\t\t\t\t\t\t\t\t\teventLabel: $form.closest('.modal-bid__row').find('.modal-bid__title').text(),\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$.fancybox.open(`<div class=\"modal modal--alert\">\n\t\t\t\t\t\t\t\t\t<div class=\"h3 form__title\">${result.title}</div>\n\t\t\t\t\t\t\t\t\t<div class=\"form__text\">${result.message}</div>\n\t\t\t\t\t\t\t\t</div>`, {\n\t\t\t\t\t\t\t\t\ttouch: false,\n\t\t\t\t\t\t\t\t\tautoFocus: false,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$form.find('.form__button .button').removeClass('is-loading');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tsetTimeout(() => {\n\t\t\t\t$form.find('[data-validation]').each((index, item) => {\n\t\t\t\t\t$(item).rules('add', $(item).data('validation'));\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t},\n\t},\n\tbecomePartner: {\n\t\tinit($module) {\n\t\t\tif (!vars.isMobile()) {\n\t\t\t\tlet $text = $module.find('.become-partner__text');\n\n\t\t\t\t$module.find('.become-partner__links a').hover(\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\t$text.removeClass('is-active');\n\t\t\t\t\t\t$text.eq($(e.currentTarget).closest('li').index() + 1).addClass('is-active');\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\t$text.removeClass('is-active');\n\t\t\t\t\t\t$text.eq(0).addClass('is-active');\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n\tdealers: {\n\t\tinit($module) {\n\t\t\tlet $map = $module.find('.dealers__map');\n\n\t\t\tlet options = $map.data();\n\n\t\t\tlet $mapList = $module.find('.dealers__map-list');\n\n\t\t\tlet map = null;\n\n\t\t\tlet $city = $module.find('.js-city');\n\n\t\t\tlet inited = false;\n\n\t\t\tlet setMarkers = (markers) => {\n\t\t\t\tmap.geoObjects.removeAll();\n\n\t\t\t\t$module.find('.dealers__map-item').each((index, item) => {\n\t\t\t\t\tlet $item = $(item);\n\t\t\t\t\tlet marker = new ymaps.Placemark([parseFloat($item.data('lat')), parseFloat($item.data('lng'))], {}, {\n\t\t\t\t\t\ticonLayout: 'default#image',\n\t\t\t\t\t\ticonImageHref: options.icon,\n\t\t\t\t\t\ticonImageSize: [16, 16],\n\t\t\t\t\t\ticonImageOffset: [-8, -8],\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker.events.add('click', () => {\n\t\t\t\t\t\t$module.find('.dealers__map-item').removeClass('is-active');\n\t\t\t\t\t\t$item.addClass('is-active');\n\t\t\t\t\t});\n\n\t\t\t\t\tmap.geoObjects.add(marker);\n\t\t\t\t});\n\n\t\t\t\tif (map.geoObjects.getBounds()) {\n\t\t\t\t\tmap.setBounds(map.geoObjects.getBounds());\n\t\t\t\t}\n\n\t\t\t\tif (map.getZoom() > 16) {\n\t\t\t\t\tmap.setZoom(16);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlet getMarkers = () => {\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: 'get',\n\t\t\t\t\turl: $module.data('ajax'),\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcity: $city.val(),\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t$module.find('.dealers__map-list').html(response.list);\n\t\t\t\t\t\tsetMarkers(response);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tlet init = () => {\n\t\t\t\tapp.scriptLoading('//api-maps.yandex.ru/2.1/?lang=ru_RU', () => {\n\t\t\t\t\tymaps.ready(() => {\n\t\t\t\t\t\tmap = new ymaps.Map($map[0], {\n\t\t\t\t\t\t\tcenter: [options.lat, options.lng],\n\t\t\t\t\t\t\tzoom: 16,\n\t\t\t\t\t\t\tcontrols: ['zoomControl'],\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tgetMarkers();\n\n\t\t\t\t\t\t$city.on('change', () => {\n\t\t\t\t\t\t\tgetMarkers();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$module.on('inview', (event, isInView) => {\n\t\t\t\tif (isInView && !inited) {\n\t\t\t\t\tinit();\n\t\t\t\t\tinited = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$module.on('click', '.dealers__map-item__close', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t$(e.currentTarget).closest('.dealers__map-item').removeClass('is-active');\n\t\t\t});\n\t\t},\n\t},\n\ttopMenu: {\n\t\tinit($menu) {\n\t\t\tlet slider = new Swiper($menu.find('.swiper-container')[0], {\n\t\t\t\tslidesPerView: 'auto',\n\t\t\t\tfreeMode: true,\n\t\t\t\tresistance: true,\n\t\t\t\tresistanceRatio: 0,\n\t\t\t\tbreakpoints: {\n\t\t\t\t\t1024: {\n\t\t\t\t\t\tallowTouchMove: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (vars.isMobile()) {\n\t\t\t\t$menu.find('.top-menu__item__arrow').on('click', (e) => {\n\t\t\t\t\tlet $this = $(e.currentTarget);\n\t\t\t\t\tlet $item = $this.closest('.top-menu__item');\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif ($item.hasClass('is-active')) {\n\t\t\t\t\t\t$item.removeClass('is-active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$menu.find('.top-menu__item').removeClass('is-active');\n\t\t\t\t\t\t$item.addClass('is-active');\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\t$document.on('click', (e) => {\n\t\t\t\t\tlet $target = $(e.target);\n\n\t\t\t\t\tif (!$target.closest('.top-menu__item').length) {\n\t\t\t\t\t\t$menu.find('.top-menu__item').removeClass('is-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$window.on('load', () => {\n\t\t\t\tslider.update();\n\t\t\t});\n\t\t}\n\t},\n\thouseholdSlider: {\n\t\tinit($module) {\n\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tnavigation: {\n\t\t\t\t\tprevEl: $module.find('.arrow-prev')[0],\n\t\t\t\t\tnextEl: $module.find('.arrow-next')[0],\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\tproductInfo: {\n\t\tinit($module) {\n\t\t\tconst fixed = false;\n\t\t\tconst $fixedItem = $module.find('.page-product__info__fixed');\n\t\t\tconst $content = $module.find('.page-product__info__content');\n\n\t\t\t$window.on('scroll', () => {\n\t\t\t\tif ($window.scrollTop() > $content.offset().top + $content.outerHeight()) {\n\t\t\t\t\t$fixedItem.addClass('is-fixed');\n\t\t\t\t} else {\n\t\t\t\t\t$fixedItem.removeClass('is-fixed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tproductSlider: {\n\t\tinit($module) {\n\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tspaceBetween: app.vw(12),\n\t\t\t\tbreakpoints: {\n\t\t\t\t\t1024: {\n\t\t\t\t\t\tslidesPerView: 4,\n\t\t\t\t\t\tspaceBetween: app.vw(20),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tnavigation: {\n\t\t\t\t\tprevEl: $module.find('.arrow-prev')[0],\n\t\t\t\t\tnextEl: $module.find('.arrow-next')[0],\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\t// search: {\n\t// \tinit($module) {\n\t// \t\tconst $fieldInput = $module.find('.input__field--search input');\n\t//\n\t// \t\t$fieldInput.on('keyup change', () => {\n\t// \t\t\tif ($fieldInput.val().trim()) {\n\t// \t\t\t\t$module.addClass('is-filled');\n\t// \t\t\t} else {\n\t// \t\t\t\t$module.removeClass('is-filled');\n\t// \t\t\t}\n\t// \t\t});\n\t//\n\t// \t\t$module.find('.input__field__reset').on('click', (e) => {\n\t// \t\t\te.preventDefault();\n\t// \t\t\t$fieldInput.val('').trigger('change');\n\t// \t\t});\n\t// \t},\n\t// },\n\tseriesSlider: {\n\t\tinit($module) {\n\t\t\tlet slider = new Swiper($module.find('.swiper-container')[0], {\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tspaceBetween: app.vw(10),\n\t\t\t\tloop: true,\n\t\t\t\tbreakpoints: {\n\t\t\t\t\t1024: {\n\t\t\t\t\t\tslidesPerView: 'auto',\n\t\t\t\t\t\tspaceBetween: app.vw(35),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tnavigation: {\n\t\t\t\t\tprevEl: $module.find('.arrow-prev')[0],\n\t\t\t\t\tnextEl: $module.find('.arrow-next')[0],\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\tseriesTag: {\n\t\tinit($module) {\n\t\t\t$window.on('scroll', () => {\n\t\t\t\tif ($window.scrollTop() > $module.offset().top + $module.outerHeight()) {\n\t\t\t\t\t$module.addClass('is-fixed');\n\t\t\t\t} else {\n\t\t\t\t\t$module.removeClass('is-fixed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t},\n\tbuyers: {\n\t\tinit($module) {\n\t\t\tlet $map = $module.find('.page-buyers__map');\n\t\t\tlet options = $map.data();\n\t\t\tlet $filter = $module.find('.page-buyers__filter');\n\t\t\tlet $mapList = $module.find('.page-buyers__map-list');\n\t\t\tlet $list = $module.find('.page-buyers__list__row');\n\t\t\tlet map = null;\n\t\t\tlet markers = [];\n\n\t\t\tconst loadData = () => {\n\t\t\t\tif (!$module.hasClass('is-loading')) {\n\t\t\t\t\t$module.addClass('is-loading');\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: $filter.attr('method'),\n\t\t\t\t\t\turl: $filter.attr('action'),\n\t\t\t\t\t\tdata: $filter.serialize(),\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t\t$mapList.html(response['map-list']);\n\t\t\t\t\t\t\t$list.html(response.list);\n\t\t\t\t\t\t\tsetMarkers();\n\t\t\t\t\t\t\t$module.removeClass('is-loading');\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlet setMarkers = () => {\n\t\t\t\tmap.geoObjects.removeAll();\n\n\t\t\t\tmarkers = [];\n\n\t\t\t\t$module.find('.page-buyers__map-item').each((index, item) => {\n\t\t\t\t\tlet $item = $(item);\n\n\t\t\t\t\tlet marker = new ymaps.Placemark([parseFloat($item.data('lat')), parseFloat($item.data('lng'))], {}, {\n\t\t\t\t\t\ticonLayout: 'default#image',\n\t\t\t\t\t\ticonImageHref: options.pin,\n\t\t\t\t\t\ticonImageSize: [16, 16],\n\t\t\t\t\t\ticonImageOffset: [-8, -8],\n\t\t\t\t\t});\n\n\t\t\t\t\tmarkers.push(marker);\n\n\t\t\t\t\tmarker.events.add('click', () => {\n\t\t\t\t\t\tmarkers.forEach((markerItem) => {\n\t\t\t\t\t\t\tmarkerItem.options.set('iconImageHref', options.pin);\n\t\t\t\t\t\t\tmarkerItem.options.set('iconImageSize', [16, 16]);\n\t\t\t\t\t\t\tmarkerItem.options.set('iconImageOffset', [-8, -8]);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$module.find('.page-buyers__map-item').removeClass('is-active');\n\t\t\t\t\t\t$item.addClass('is-active');\n\t\t\t\t\t\tmarker.options.set('iconImageHref', options.pinActive);\n\t\t\t\t\t\tmarker.options.set('iconImageSize', [32, 32]);\n\t\t\t\t\t\tmarker.options.set('iconImageOffset', [-16, -16]);\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker.events.add('mouseenter', () => {\n\t\t\t\t\t\tmarker.options.set('iconImageHref', options.pinActive);\n\t\t\t\t\t\tmarker.options.set('iconImageSize', [32, 32]);\n\t\t\t\t\t\tmarker.options.set('iconImageOffset', [-16, -16]);\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker.events.add('mouseleave', () => {\n\t\t\t\t\t\tif (!$item.hasClass('is-active')) {\n\t\t\t\t\t\t\tmarker.options.set('iconImageHref', options.pin);\n\t\t\t\t\t\t\tmarker.options.set('iconImageSize', [16, 16]);\n\t\t\t\t\t\t\tmarker.options.set('iconImageOffset', [-8, -8]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tmap.geoObjects.add(marker);\n\t\t\t\t});\n\n\t\t\t\tif (map.geoObjects.getBounds()) {\n\t\t\t\t\tmap.setBounds(map.geoObjects.getBounds());\n\t\t\t\t}\n\n\t\t\t\tif (map.getZoom() > 16) {\n\t\t\t\t\tmap.setZoom(16);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tapp.scriptLoading('//api-maps.yandex.ru/2.1/?lang=ru_RU', () => {\n\t\t\t\tymaps.ready(() => {\n\t\t\t\t\tmap = new ymaps.Map($map[0], {\n\t\t\t\t\t\tcenter: [parseFloat(options.lat), parseFloat(options.lng)],\n\t\t\t\t\t\tzoom: 13,\n\t\t\t\t\t\tcontrols: ['zoomControl'],\n\t\t\t\t\t}, {});\n\n\t\t\t\t\t$map.data('map', map);\n\t\t\t\t\tloadData();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$module.on('click', '.page-buyers__map-item__close', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t$(e.currentTarget).closest('.page-buyers__map-item').removeClass('is-active');\n\t\t\t\tmarkers.forEach((markerItem) => {\n\t\t\t\t\tmarkerItem.options.set('iconImageHref', options.pin);\n\t\t\t\t\tmarkerItem.options.set('iconImageSize', [16, 16]);\n\t\t\t\t\tmarkerItem.options.set('iconImageOffset', [-8, -8]);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$('.page-buyers__filter__type a').on('click', (e) => {\n\t\t\t\tlet $this = $(e.currentTarget);\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t$('.page-buyers__filter__type a').removeClass('is-active');\n\t\t\t\t$this.addClass('is-active');\n\t\t\t\t$module.find('.page-buyers__map-item').removeClass('is-active');\n\t\t\t\tmarkers.forEach((markerItem) => {\n\t\t\t\t\tmarkerItem.options.set('iconImageHref', options.pin);\n\t\t\t\t\tmarkerItem.options.set('iconImageSize', [16, 16]);\n\t\t\t\t\tmarkerItem.options.set('iconImageOffset', [-8, -8]);\n\t\t\t\t});\n\t\t\t\t$module.removeClass('is-show-list');\n\t\t\t\t$module.addClass($this.data('target'));\n\n\t\t\t\tif ($this.data('target') === \"is-show-list\") {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (map.geoObjects.getBounds()) {\n\t\t\t\t\t\t\tmap.setBounds(map.geoObjects.getBounds());\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 250);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$filter.on('change', (e) => {\n\t\t\t\tloadData();\n\t\t\t});\n\n\t\t\t$module.find('.page-buyers__type a').on('click', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$module.find('.page-buyers__type a').removeClass('is-active');\n\t\t\t\t$this.addClass('is-active');\n\t\t\t\t$module.find('.js-filter-type').val($this.data('type')).trigger('change');\n\t\t\t});\n\t\t},\n\t},\n\tmodalBid: {\n\t\tinit($module) {\n\t\t\tlet form = new Swiper($module.find('.modal-bid__form .swiper-container')[0], {\n\t\t\t\tallowTouchMove: false,\n\t\t\t\tautoHeight: true,\n\t\t\t\tbreakpoints: {\n\t\t\t\t\t1024: {\n\t\t\t\t\t\tautoHeight: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tform.on('slideChange', () => {\n\t\t\t\tif (form.activeIndex > 0) {\n\t\t\t\t\t$module.find('.modal-bid__text__hidden').removeClass('is-hidden');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$module.find('.modal-bid__form__item__next').on('click', (e) => {\n\t\t\t\tlet $required = $(e.currentTarget).closest('.modal-bid__form__item').find('[required]');\n\n\t\t\t\te.preventDefault();\n\t\t\t\tif ($required.length === 0 || $(e.currentTarget).closest('.modal-bid__form__item').find('[required]').valid()) {\n\t\t\t\t\tform.slideNext();\n\n\t\t\t\t\tif (vars.isMobile()) {\n\t\t\t\t\t\t$module.closest('.fancybox-slide').animate({\n\t\t\t\t\t\t\tscrollTop: 0,\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tform.update();\n\t\t\t});\n\n\t\t\t$module.find('.modal-bid__form__item__back').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tform.slidePrev();\n\t\t\t});\n\n\t\t\t$module.find('.modal-bid__form').on('change', () => {\n\t\t\t\tform.update();\n\t\t\t})\n\n\t\t\t$module.find('.modal-bid__form__item__send').on('click', () => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tform.update();\n\t\t\t\t}, 100)\n\t\t\t})\n\n\t\t\t$module.find('.swiper-container').data('slider', form)\n\t\t},\n\t},\n\tserviceDetail: {\n\t\tinit($module) {\n\t\t\tlet $map = $module.find('.page-service-detail__map');\n\t\t\tlet options = $map.data();\n\t\t\tlet $filter = $module.find('.page-service-detail__filter');\n\t\t\tlet $mapList = $module.find('.page-service-detail__map-list');\n\t\t\tlet $list = $module.find('.page-service-detail__list');\n\t\t\tlet map = null;\n\t\t\tlet markers = [];\n\n\t\t\tlet setMarker = (marker, active = false) => {\n\t\t\t\tif (marker.options.pin) {\n\t\t\t\t\tmarker.options.set('iconImageHref', marker.options.pin.image);\n\t\t\t\t\tmarker.options.set('iconImageSize', [marker.options.pin.w, marker.options.pin.h]);\n\t\t\t\t\tmarker.options.set('iconImageOffset', [-marker.options.pin.w / 2, -marker.options.pin.h]);\n\t\t\t\t} else if (active) {\n\t\t\t\t\tmarker.options.set('iconImageHref', options.pinActive);\n\t\t\t\t\tmarker.options.set('iconImageSize', [47, 47]);\n\t\t\t\t\tmarker.options.set('iconImageOffset', [-24, -24]);\n\t\t\t\t} else {\n\t\t\t\t\tmarker.options.set('iconImageHref', options.pin);\n\t\t\t\t\tmarker.options.set('iconImageSize', [40, 40]);\n\t\t\t\t\tmarker.options.set('iconImageOffset', [-20, -20]);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlet setMarkers = () => {\n\t\t\t\tmap.geoObjects.removeAll();\n\n\t\t\t\tmarkers = [];\n\n\t\t\t\t$module.find('.page-service-detail__map-item').each((index, item) => {\n\t\t\t\t\tlet $item = $(item);\n\t\t\t\t\tlet marker = new ymaps.Placemark([parseFloat($item.data('lat')), parseFloat($item.data('lng'))], {}, {\n\t\t\t\t\t\ticonLayout: 'default#image',\n\t\t\t\t\t\ticonImageHref: options.pin,\n\t\t\t\t\t\ticonImageSize: [40, 40],\n\t\t\t\t\t\ticonImageOffset: [-20, -20],\n\t\t\t\t\t});\n\n\t\t\t\t\tmarkers.push(marker);\n\n\t\t\t\t\tmarker.events.add('click', () => {\n\t\t\t\t\t\tmarkers.forEach((markerItem) => {\n\t\t\t\t\t\t\tif ($item.data('type') !== 'main') {\n\t\t\t\t\t\t\t\tsetMarker(markerItem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$module.find('.page-service-detail__map-item').removeClass('is-active');\n\t\t\t\t\t\t$item.addClass('is-active');\n\t\t\t\t\t\tif ($item.data('type') !== 'main') {\n\t\t\t\t\t\t\tsetMarker(marker, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker.events.add('mouseenter', () => {\n\t\t\t\t\t\tif ($item.data('type') !== 'main') {\n\t\t\t\t\t\t\tsetMarker(marker, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tmarker.events.add('mouseleave', () => {\n\t\t\t\t\t\tif (!$item.hasClass('is-active') && $item.data('type') !== 'main') {\n\t\t\t\t\t\t\tsetMarker(marker);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tmap.geoObjects.add(marker);\n\t\t\t\t});\n\n\t\t\t\tif (map.geoObjects.getBounds()) {\n\t\t\t\t\tmap.setBounds(map.geoObjects.getBounds());\n\t\t\t\t}\n\n\t\t\t\tif (map.getZoom() > 16) {\n\t\t\t\t\tmap.setZoom(16);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tapp.scriptLoading('//api-maps.yandex.ru/2.1/?lang=ru_RU', () => {\n\t\t\t\tymaps.ready(() => {\n\t\t\t\t\tmap = new ymaps.Map($map[0], {\n\t\t\t\t\t\tcenter: [55.755829, 37.617627],\n\t\t\t\t\t\tzoom: 6,\n\t\t\t\t\t\tcontrols: ['zoomControl'],\n\t\t\t\t\t}, {});\n\n\t\t\t\t\tsetMarkers();\n\n\t\t\t\t\t$map.data('map', map);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$module.on('click', '.page-service-detail__map-item__close', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t$(e.currentTarget).closest('.page-service-detail__map-item').removeClass('is-active');\n\t\t\t\tmarkers.forEach((markerItem) => {\n\t\t\t\t\tsetMarker(markerItem);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$module.find('.page-service-detail__filter__type a').on('click', (e) => {\n\t\t\t\tlet $this = $(e.currentTarget);\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$this.toggleClass('is-active');\n\t\t\t\t$module.find('.page-service-detail__map-item').removeClass('is-active');\n\t\t\t\tmarkers.forEach((markerItem) => {\n\t\t\t\t\tsetMarker(markerItem);\n\t\t\t\t});\n\t\t\t\tif ($this.hasClass('is-active')) {\n\t\t\t\t\t$module.addClass('is-show-list');\n\t\t\t\t\t$this.text($this.data('on'));\n\t\t\t\t} else {\n\t\t\t\t\t$module.removeClass('is-show-list');\n\t\t\t\t\t$this.text($this.data('off'));\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (map.geoObjects.getBounds()) {\n\t\t\t\t\t\t\tmap.setBounds(map.geoObjects.getBounds());\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 250);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$filter.on('change', () => {\n\t\t\t\tif (!$module.hasClass('is-loading')) {\n\t\t\t\t\t$module.addClass('is-loading');\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: $filter.attr('method'),\n\t\t\t\t\t\turl: $filter.attr('action'),\n\t\t\t\t\t\tdata: $filter.serialize(),\n\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t\t$list.html('');\n\t\t\t\t\t\t\t$mapList.html(response['map-list']);\n\t\t\t\t\t\t\tif (response.message) {\n\t\t\t\t\t\t\t\t$list.append(response.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$list.append(response.list);\n\t\t\t\t\t\t\tif (map) {\n\t\t\t\t\t\t\t\tsetMarkers();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$module.removeClass('is-loading');\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).trigger('change');\n\n\t\t\t$module.on('click', '.js-set-city', (e) => {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t$module.find('[name=\"city\"]').val($(e.currentTarget).data('value')).trigger('change');\n\t\t\t\t// $filter.trigger('change');\n\t\t\t});\n\t\t},\n\t},\n\tloadMore: {\n\t\tinit() {\n\t\t\tif (window.loadMore === 'inited') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$('[data-list]').each((index, list) => {\n\t\t\t\tconst $list = $(list);\n\n\t\t\t\tif ($list.data('ajax')) {\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'get',\n\t\t\t\t\t\turl: $list.data('ajax'),\n\t\t\t\t\t\tdata: $list.data('target-filter') ? $(`[data-filter=\"${$list.data('target-filter')}\"]`).serialize() : '',\n\t\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t\t$list.html(response);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tif ($list.data('target-filter')) {\n\t\t\t\t\t\t$(`[data-filter=\"${$list.data('target-filter')}\"]`).on('change submit', (e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'get',\n\t\t\t\t\t\t\t\turl: $list.data('ajax'),\n\t\t\t\t\t\t\t\tdata: $(`[data-filter=\"${$list.data('target-filter')}\"]`).serialize(),\n\t\t\t\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t\t\t\t$list.html(response);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$document.on('click', '.js-load-more a', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\t\t\t\tconst $parent = $this.closest('.js-load-more');\n\t\t\t\tconst $list = $(`[data-list=\"${$parent.data('target')}\"]`);\n\t\t\t\tconst offsetTop = $parent.offset().top;\n\n\t\t\t\tlet data = `page=${$this.data('page')}`;\n\n\t\t\t\tif ($list.data('target-filter')) {\n\t\t\t\t\tdata = $(`[data-filter=\"${$list.data('target-filter')}\"]`).serialize() + '&' + data;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t\tif (!$this.hasClass('is-loading')) {\n\t\t\t\t\t$this.addClass('is-loading');\n\t\t\t\t\t$.ajax({\n\t\t\t\t\t\ttype: 'get',\n\t\t\t\t\t\turl: $list.data('ajax'),\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tsuccess(response) {\n\t\t\t\t\t\t\t$parent.remove();\n\t\t\t\t\t\t\tif ($parent.data('type') === 'replace') {\n\t\t\t\t\t\t\t\t$list.html(response);\n\t\t\t\t\t\t\t\twindow.scrollTo(0, $list.offset().top - 125);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$list.append(response);\n\t\t\t\t\t\t\t\twindow.scrollTo(0, offsetTop - 125);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$document.on('click', '.js-filter-reset', (e) => {\n\t\t\t\tconst $this = $(e.currentTarget);\n\t\t\t\tconst $filter = $(`[data-filter=\"${$this.data('target-filter')}\"]`);\n\n\t\t\t\te.preventDefault();\n\t\t\t\t$filter[0].reset();\n\t\t\t\tif ($filter.find('select').length) {\n\t\t\t\t\t$filter.find('select').trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\t$filter.trigger('change');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\twindow.loadMore = 'inited';\n\t\t},\n\t},\n\tup: {\n\t\tinit($up) {\n\t\t\t$window.on('scroll.up', () => {\n\t\t\t\tif ($window.scrollTop() > $window.outerHeight()) {\n\t\t\t\t\t$up.addClass('is-show');\n\t\t\t\t} else {\n\t\t\t\t\t$up.removeClass('is-show');\n\t\t\t\t}\n\t\t\t}).trigger('scroll.up');\n\n\t\t\t$up.on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t});\n\t\t},\n\t},\n\tcookies: {\n\t\tinit($cookie) {\n\t\t\tif (localStorage.cookiesAgree !== 'yes') {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$cookie.fadeIn(250);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\t$cookie.find('.cookies__button .button').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tlocalStorage.cookiesAgree = 'yes';\n\t\t\t\t$cookie.fadeOut(250);\n\t\t\t});\n\t\t},\n\t},\n\tcursor: {\n\t\tinit($module) {\n\t\t\tif ($module.is(':visible')) {\n\n\t\t\t\tlet $window = $(window);\n\n\t\t\t\t$document.on('mousemove', function (e) {\n\t\t\t\t\tlet cursorX = e.clientX + document.documentElement.scrollLeft;\n\n\t\t\t\t\tif (cursorX + $('.cursor').outerWidth() > $window.outerWidth()) {\n\t\t\t\t\t\tcursorX = $window.outerWidth() - $('.cursor').outerWidth();\n\t\t\t\t\t}\n\n\t\t\t\t\t$('.cursor').show().css({\n\t\t\t\t\t\t'left': cursorX,\n\t\t\t\t\t\t'top': e.clientY,\n\t\t\t\t\t});\n\t\t\t\t}).on('mouseleave', function () {\n\t\t\t\t\t$('.cursor').hide();\n\t\t\t\t});\n\n\t\t\t\t// $(selector).on('mouseenter', function () {\n\t\t\t\t// \t$('.cursor__circle').css({ 'transform': 'scale(3.4)', 'opacity': '0.5' });\n\t\t\t\t// }).on('mouseleave', function () {\n\t\t\t\t// \t$('.cursor__circle').css({ 'transform': 'none', 'opacity': 1 });\n\t\t\t\t// });\n\t\t\t}\n\t\t},\n\t},\n\tanalytics() {\n\t\t$document.on('click', '.event-phone', (e) => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Phone',\n\t\t\t\t\teventCategory: 'Phone',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t\teventLabel: $(e.currentTarget).attr('href').replace('tel:', ''),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$document.on('click', '.event-email', (e) => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Email',\n\t\t\t\t\teventCategory: 'Email',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t\teventLabel: $(e.currentTarget).attr('href').replace('mailto:', ''),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$document.on('click', '.event-link', (e) => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Link',\n\t\t\t\t\teventCategory: 'Link',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t\teventLabel: $(e.currentTarget).attr('href'),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$document.on('click', '.event-registration', () => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Registration',\n\t\t\t\t\teventCategory: 'Registration',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$document.on('click', '.event-site', (e) => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Site',\n\t\t\t\t\teventCategory: 'Site',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t\teventLabel: $(e.currentTarget).attr('href'),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$document.on('click', '.event-document', (e) => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Document',\n\t\t\t\t\teventCategory: 'Document',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t\teventLabel: $(e.currentTarget).find('.file__name').text().trim(),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$document.on('click', '.event-video', (e) => {\n\t\t\tif (typeof dataLayer !== 'undefined') {\n\t\t\t\tdataLayer.push({\n\t\t\t\t\tevent: 'Video',\n\t\t\t\t\teventCategory: 'Video',\n\t\t\t\t\teventAction: 'click',\n\t\t\t\t\teventLabel: $(e.currentTarget).closest('.page-series__intro').find('.page-series__intro__title span').text().trim(),\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n};\n\napp.global.init();\n\nwindow.initApps = () => {\n\t$('[data-app]').each((index, item) => {\n\t\tlet $this = $(item);\n\t\tlet split = $this.data('app').split('||');\n\n\t\t$.each(split, (appIndex, appName) => {\n\t\t\tlet appNameCamel = false;\n\n\t\t\tif (appName.indexOf('-') !== -1) {\n\t\t\t\tappNameCamel = appName.replace(/(-|\\s)(\\S)/ug, (m) => m.toUpperCase()).replace(/-/ug, '');\n\t\t\t}\n\n\t\t\tif (app[appName] && $this.data(`${appName}-init`) !== true) {\n\t\t\t\tapp[appName].init($this);\n\t\t\t\t$this.data(`${appName}-init`, true);\n\t\t\t} else if (app[appNameCamel] && $this.data(`${appName}-init`) !== true) {\n\t\t\t\tapp[appNameCamel].init($this);\n\t\t\t\t$this.data(`${appName}-init`, true);\n\t\t\t}\n\t\t});\n\t});\n};\n\ninitApps();\n\n","import lozad from 'lozad';\r\n\r\nlet observer;\r\n\r\n/**\r\n* Модуль \"Отложенная загрузка изображений\"\r\n* https://github.com/ApoorvSaxena/lozad.js\r\n*/\r\nconst init = () => {\r\n\tobserver = lozad('.js-lazy', {\r\n\t\trootMargin: '10px 0px', // syntax similar to that of CSS Margin\r\n\t\tthreshold: 0.1, // ratio of element convergence\r\n\t\tenableAutoReload: true, // it will reload the new image when validating attributes changes\r\n\t\tloaded(el) {\r\n\t\t\tel.classList.add('is-loaded');\r\n\t\t},\r\n\t});\r\n\r\n\tobserver.observe();\r\n};\r\n\r\n/**\r\n* Тригер для загрузки изображений до того, как оно появится в наблюдателе области просмотра\r\n* @param {string} img Обязательное, элемент img\r\n*/\r\nconst trigger = (img) => {\r\n\tobserver.triggerLoad(img);\r\n};\r\n\r\nexport default {\r\n\tinit,\r\n\ttrigger,\r\n};\r\n","import header from '../components/header';\r\nimport helpers from '../helpers';\r\n\r\n/**\r\n* Модуль \"Плавный переход к якорю\"\r\n*/\r\nconst init = () => {\r\n\thelpers.$document.on('click.anchor', '.js-to-anchor', (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst id = $(e.currentTarget).attr('href');\r\n\t\tconst speed = $(e.currentTarget).data('speed') || 500;\r\n\t\tconst offset = helpers.$header.css('position') === 'fixed' || helpers.$header.css('position') === 'absolute' ? -helpers.$header.outerHeight(true) : 0;\r\n\r\n\t\theader.closeMenu().then(() => {\r\n\t\t\t$('.js-burger').removeClass('is-active');\r\n\t\t\thelpers.scrollTo($(id), speed, offset);\r\n\t\t});\r\n\t});\r\n};\r\n\r\nconst destroy = () => {\r\n\thelpers.$document.off('.anchor');\r\n};\r\n\r\nexport default {\r\n\tinit,\r\n\tdestroy,\r\n};\r\n","import 'core-js/stable';\r\nimport 'regenerator-runtime/runtime';\r\nimport svg4everybody from 'svg4everybody';\r\nimport $ from 'jquery';\r\nimport objectFitImages from 'object-fit-images';\r\n// import objectFitVideos from 'object-fit-videos';\r\n\r\nsvg4everybody();\r\nobjectFitImages();\r\n// objectFitVideos();\r\n\r\nwindow.$ = $;\r\nwindow.jQuery = $;\r\nwindow.objectFitImages = objectFitImages;\r\n// window.objectFitVideos = objectFitVideos;\r\n\r\nrequire('./vendor/jquery.inview');\r\nrequire('ninelines-ua-parser');\r\n","// ==================================================\n// fancyBox v3.5.7\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2022 fancyApps\n//\n// ==================================================\n(function (window, document, $, undefined) {\n  \"use strict\";\n\n  window.console = window.console || {\n    info: function (stuff) {}\n  };\n\n  // If there's no jQuery, fancyBox can't work\n  // =========================================\n\n  if (!$) {\n    return;\n  }\n\n  // Check if fancyBox is already initialized\n  // ========================================\n\n  if ($.fn.fancybox) {\n    console.info(\"fancyBox already initialized\");\n\n    return;\n  }\n\n  // Private default settings\n  // ========================\n\n  var defaults = {\n    // Close existing modals\n    // Set this to false if you do not need to stack multiple instances\n    closeExisting: false,\n\n    // Enable infinite gallery navigation\n    loop: false,\n\n    // Horizontal space between slides\n    gutter: 50,\n\n    // Enable keyboard navigation\n    keyboard: true,\n\n    // Should allow caption to overlap the content\n    preventCaptionOverlap: true,\n\n    // Should display navigation arrows at the screen edges\n    arrows: true,\n\n    // Should display counter at the top left corner\n    infobar: true,\n\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n    smallBtn: \"auto\",\n\n    // Should display toolbar (buttons at the top)\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n    toolbar: \"auto\",\n\n    // What buttons should appear in the top right corner.\n    // Buttons will be created using templates from `btnTpl` option\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n    buttons: [\n      \"zoom\",\n      //\"share\",\n      \"slideShow\",\n      //\"fullScreen\",\n      //\"download\",\n      \"thumbs\",\n      \"close\"\n    ],\n\n    // Detect \"idle\" time in seconds\n    idleTime: 3,\n\n    // Disable right-click and use simple image protection for images\n    protect: false,\n\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n    modal: false,\n\n    image: {\n      // Wait for images to load before displaying\n      //   true  - wait for image to load and then display;\n      //   false - display thumbnail and load the full-sized image over top,\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\n      preload: false\n    },\n\n    ajax: {\n      // Object containing settings for ajax request\n      settings: {\n        // This helps to indicate that request comes from the modal\n        // Feel free to change naming\n        data: {\n          fancybox: true\n        }\n      }\n    },\n\n    iframe: {\n      // Iframe template\n      tpl: '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" allowfullscreen=\"allowfullscreen\" allow=\"autoplay; fullscreen\" src=\"\"></iframe>',\n\n      // Preload iframe before displaying it\n      // This allows to calculate iframe content width and height\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n      preload: true,\n\n      // Custom CSS styling for iframe wrapping element\n      // You can use this to set custom iframe dimensions\n      css: {},\n\n      // Iframe tag attributes\n      attr: {\n        scrolling: \"auto\"\n      }\n    },\n\n    // For HTML5 video only\n    video: {\n      tpl: '<video class=\"fancybox-video\" controls controlsList=\"nodownload\" poster=\"{{poster}}\">' +\n        '<source src=\"{{src}}\" type=\"{{format}}\" />' +\n        'Sorry, your browser doesn\\'t support embedded videos, <a href=\"{{src}}\">download</a> and watch with your favorite video player!' +\n        \"</video>\",\n      format: \"\", // custom video format\n      autoStart: true\n    },\n\n    // Default content type if cannot be detected automatically\n    defaultType: \"image\",\n\n    // Open/close animation type\n    // Possible values:\n    //   false            - disable\n    //   \"zoom\"           - zoom images from/to thumbnail\n    //   \"fade\"\n    //   \"zoom-in-out\"\n    //\n    animationEffect: \"zoom\",\n\n    // Duration in ms for open/close animation\n    animationDuration: 366,\n\n    // Should image change opacity while zooming\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n    zoomOpacity: \"auto\",\n\n    // Transition effect between slides\n    //\n    // Possible values:\n    //   false            - disable\n    //   \"fade'\n    //   \"slide'\n    //   \"circular'\n    //   \"tube'\n    //   \"zoom-in-out'\n    //   \"rotate'\n    //\n    transitionEffect: \"fade\",\n\n    // Duration in ms for transition animation\n    transitionDuration: 366,\n\n    // Custom CSS class for slide element\n    slideClass: \"\",\n\n    // Custom CSS class for layout\n    baseClass: \"\",\n\n    // Base template for layout\n    baseTpl: '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n      '<div class=\"fancybox-bg\"></div>' +\n      '<div class=\"fancybox-inner\">' +\n      '<div class=\"fancybox-infobar\"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n      '<div class=\"fancybox-stage\"></div>' +\n      '<div class=\"fancybox-caption\"><div class=\"fancybox-caption__body\"></div></div>' +\n      \"</div>\" +\n      \"</div>\",\n\n    // Loading indicator template\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n\n    // Error message template\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\n\n    btnTpl: {\n      download: '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z\"/></svg>' +\n        \"</a>\",\n\n      zoom: '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z\"/></svg>' +\n        \"</button>\",\n\n      close: '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z\"/></svg>' +\n        \"</button>\",\n\n      // Arrows\n      arrowLeft: '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z\"/></svg></div>' +\n        \"</button>\",\n\n      arrowRight: '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n        '<div><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z\"/></svg></div>' +\n        \"</button>\",\n\n      // This small close button will be appended to your html/inline/ajax content by default,\n      // if \"smallBtn\" option is not set to false\n      smallBtn: '<button type=\"button\" data-fancybox-close class=\"fancybox-button fancybox-close-small\" title=\"{{CLOSE}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1\" viewBox=\"0 0 24 24\"><path d=\"M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z\"/></svg>' +\n        \"</button>\"\n    },\n\n    // Container is injected into this element\n    parentEl: \"body\",\n\n    // Hide browser vertical scrollbars; use at your own risk\n    hideScrollbar: true,\n\n    // Focus handling\n    // ==============\n\n    // Try to focus on the first focusable element after opening\n    autoFocus: true,\n\n    // Put focus back to active element after closing\n    backFocus: true,\n\n    // Do not let user to focus on element outside modal content\n    trapFocus: true,\n\n    // Module specific options\n    // =======================\n\n    fullScreen: {\n      autoStart: false\n    },\n\n    // Set `touch: false` to disable panning/swiping\n    touch: {\n      vertical: true, // Allow to drag content vertically\n      momentum: true // Continue movement after releasing mouse/touch when panning\n    },\n\n    // Hash value when initializing manually,\n    // set `false` to disable hash change\n    hash: null,\n\n    // Customize or add new media types\n    // Example:\n    /*\n      media : {\n        youtube : {\n          params : {\n            autoplay : 0\n          }\n        }\n      }\n    */\n    media: {},\n\n    slideShow: {\n      autoStart: false,\n      speed: 3000\n    },\n\n    thumbs: {\n      autoStart: false, // Display thumbnails on opening\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\n      parentEl: \".fancybox-container\", // Container is injected into this element\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n    },\n\n    // Use mousewheel to navigate gallery\n    // If 'auto' - enabled for images only\n    wheel: \"auto\",\n\n    // Callbacks\n    //==========\n\n    // See Documentation/API/Events for more information\n    // Example:\n    /*\n      afterShow: function( instance, current ) {\n        console.info( 'Clicked element:' );\n        console.info( current.opts.$orig );\n      }\n    */\n\n    onInit: $.noop, // When instance has been initialized\n\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\n    afterLoad: $.noop, // When the content of a slide is done loading\n\n    beforeShow: $.noop, // Before open animation starts\n    afterShow: $.noop, // When content is done loading and animating\n\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n    afterClose: $.noop, // After instance has been closed\n\n    onActivate: $.noop, // When instance is brought to front\n    onDeactivate: $.noop, // When other instance has been activated\n\n    // Interaction\n    // ===========\n\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n    // each option can be string or method that returns value.\n    //\n    // Possible values:\n    //   \"close\"           - close instance\n    //   \"next\"            - move to next gallery item\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n    //   \"toggleControls\"  - show/hide controls\n    //   \"zoom\"            - zoom image (if loaded)\n    //   false             - do nothing\n\n    // Clicked on the content\n    clickContent: function (current, event) {\n      return current.type === \"image\" ? \"zoom\" : false;\n    },\n\n    // Clicked on the slide\n    clickSlide: \"close\",\n\n    // Clicked on the background (backdrop) element;\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\n    clickOutside: \"close\",\n\n    // Same as previous two, but for double click\n    dblclickContent: false,\n    dblclickSlide: false,\n    dblclickOutside: false,\n\n    // Custom options when mobile device is detected\n    // =============================================\n\n    mobile: {\n      preventCaptionOverlap: false,\n      idleTime: false,\n      clickContent: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : false;\n      },\n      clickSlide: function (current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\n      },\n      dblclickContent: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      },\n      dblclickSlide: function (current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      }\n    },\n\n    // Internationalization\n    // ====================\n\n    lang: \"en\",\n    i18n: {\n      en: {\n        CLOSE: \"Close\",\n        NEXT: \"Next\",\n        PREV: \"Previous\",\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\n        PLAY_START: \"Start slideshow\",\n        PLAY_STOP: \"Pause slideshow\",\n        FULL_SCREEN: \"Full screen\",\n        THUMBS: \"Thumbnails\",\n        DOWNLOAD: \"Download\",\n        SHARE: \"Share\",\n        ZOOM: \"Zoom\"\n      },\n      de: {\n        CLOSE: \"Schlie&szlig;en\",\n        NEXT: \"Weiter\",\n        PREV: \"Zur&uuml;ck\",\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.\",\n        PLAY_START: \"Diaschau starten\",\n        PLAY_STOP: \"Diaschau beenden\",\n        FULL_SCREEN: \"Vollbild\",\n        THUMBS: \"Vorschaubilder\",\n        DOWNLOAD: \"Herunterladen\",\n        SHARE: \"Teilen\",\n        ZOOM: \"Vergr&ouml;&szlig;ern\"\n      }\n    }\n  };\n\n  // Few useful variables and methods\n  // ================================\n\n  var $W = $(window);\n  var $D = $(document);\n\n  var called = 0;\n\n  // Check if an object is a jQuery object and not a native JavaScript object\n  // ========================================================================\n  var isQuery = function (obj) {\n    return obj && obj.hasOwnProperty && obj instanceof $;\n  };\n\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n  // ===============================================================================\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  // Detect the supported transition-end event property name\n  // =======================================================\n  var transitionEnd = (function () {\n    var el = document.createElement(\"fakeelement\"),\n      t;\n\n    var transitions = {\n      transition: \"transitionend\",\n      OTransition: \"oTransitionEnd\",\n      MozTransition: \"transitionend\",\n      WebkitTransition: \"webkitTransitionEnd\"\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n\n    return \"transitionend\";\n  })();\n\n  // Force redraw on an element.\n  // This helps in cases where the browser doesn't redraw an updated element properly\n  // ================================================================================\n  var forceRedraw = function ($el) {\n    return $el && $el.length && $el[0].offsetHeight;\n  };\n\n  // Exclude array (`buttons`) options from deep merging\n  // ===================================================\n  var mergeOpts = function (opts1, opts2) {\n    var rez = $.extend(true, {}, opts1, opts2);\n\n    $.each(opts2, function (key, value) {\n      if ($.isArray(value)) {\n        rez[key] = value;\n      }\n    });\n\n    return rez;\n  };\n\n  // How much of an element is visible in viewport\n  // =============================================\n\n  var inViewport = function (elem) {\n    var elemCenter, rez;\n\n    if (!elem || elem.ownerDocument !== document) {\n      return false;\n    }\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"none\");\n\n    elemCenter = {\n      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n    };\n\n    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;\n\n    $(\".fancybox-container\").css(\"pointer-events\", \"\");\n\n    return rez;\n  };\n\n  // Class definition\n  // ================\n\n  var FancyBox = function (content, opts, index) {\n    var self = this;\n\n    self.opts = mergeOpts({\n      index: index\n    }, $.fancybox.defaults);\n\n    if ($.isPlainObject(opts)) {\n      self.opts = mergeOpts(self.opts, opts);\n    }\n\n    if ($.fancybox.isMobile) {\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\n    }\n\n    self.id = self.opts.id || ++called;\n\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\n    self.prevIndex = null;\n\n    self.prevPos = null;\n    self.currPos = 0;\n\n    self.firstRun = true;\n\n    // All group items\n    self.group = [];\n\n    // Existing slides (for current, next and previous gallery items)\n    self.slides = {};\n\n    // Create group elements\n    self.addContent(content);\n\n    if (!self.group.length) {\n      return;\n    }\n\n    self.init();\n  };\n\n  $.extend(FancyBox.prototype, {\n    // Create DOM structure\n    // ====================\n\n    init: function () {\n      var self = this,\n        firstItem = self.group[self.currIndex],\n        firstItemOpts = firstItem.opts,\n        $container,\n        buttonStr;\n\n      if (firstItemOpts.closeExisting) {\n        $.fancybox.close(true);\n      }\n\n      // Hide scrollbars\n      // ===============\n\n      $(\"body\").addClass(\"fancybox-active\");\n\n      if (\n        !$.fancybox.getInstance() &&\n        firstItemOpts.hideScrollbar !== false &&\n        !$.fancybox.isMobile &&\n        document.body.scrollHeight > window.innerHeight\n      ) {\n        $(\"head\").append(\n          '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar{margin-right:' +\n          (window.innerWidth - document.documentElement.clientWidth) +\n          \"px;}</style>\"\n        );\n\n        $(\"body\").addClass(\"compensate-for-scrollbar\");\n      }\n\n      // Build html markup and set references\n      // ====================================\n\n      // Build html code for buttons and insert into main template\n      buttonStr = \"\";\n\n      $.each(firstItemOpts.buttons, function (index, value) {\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\n      });\n\n      // Create markup from base template, it will be initially hidden to\n      // avoid unnecessary work like painting while initializing is not complete\n      $container = $(\n          self.translate(\n            self,\n            firstItemOpts.baseTpl\n            .replace(\"{{buttons}}\", buttonStr)\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n          )\n        )\n        .attr(\"id\", \"fancybox-container-\" + self.id)\n        .addClass(firstItemOpts.baseClass)\n        .data(\"FancyBox\", self)\n        .appendTo(firstItemOpts.parentEl);\n\n      // Create object holding references to jQuery wrapped nodes\n      self.$refs = {\n        container: $container\n      };\n\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function (item) {\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\n      });\n\n      self.trigger(\"onInit\");\n\n      // Enable events, deactive previous instances\n      self.activate();\n\n      // Build slides, load and reveal content\n      self.jumpTo(self.currIndex);\n    },\n\n    // Simple i18n support - replaces object keys found in template\n    // with corresponding values\n    // ============================================================\n\n    translate: function (obj, str) {\n      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;\n\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function (match, n) {\n        return arr[n] === undefined ? match : arr[n];\n      });\n    },\n\n    // Populate current group with fresh content\n    // Check if each object has valid type and content\n    // ===============================================\n\n    addContent: function (content) {\n      var self = this,\n        items = $.makeArray(content),\n        thumbs;\n\n      $.each(items, function (i, item) {\n        var obj = {},\n          opts = {},\n          $item,\n          type,\n          found,\n          src,\n          srcParts;\n\n        // Step 1 - Make sure we have an object\n        // ====================================\n\n        if ($.isPlainObject(item)) {\n          // We probably have manual usage here, something like\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n          obj = item;\n          opts = item.opts || item;\n        } else if ($.type(item) === \"object\" && $(item).length) {\n          // Here we probably have jQuery collection returned by some selector\n          $item = $(item);\n\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n          opts = $item.data() || {};\n          opts = $.extend(true, {}, opts, opts.options);\n\n          // Here we store clicked element\n          opts.$orig = $item;\n\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\n\n          // Assume that simple syntax is used, for example:\n          //   `$.fancybox.open( $(\"#test\"), {} );`\n          if (!obj.type && !obj.src) {\n            obj.type = \"inline\";\n            obj.src = item;\n          }\n        } else {\n          // Assume we have a simple html code, for example:\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n          obj = {\n            type: \"html\",\n            src: item + \"\"\n          };\n        }\n\n        // Each gallery object has full collection of options\n        obj.opts = $.extend(true, {}, self.opts, opts);\n\n        // Do not merge buttons array\n        if ($.isArray(opts.buttons)) {\n          obj.opts.buttons = opts.buttons;\n        }\n\n        if ($.fancybox.isMobile && obj.opts.mobile) {\n          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);\n        }\n\n        // Step 2 - Make sure we have content type, if not - try to guess\n        // ==============================================================\n\n        type = obj.type || obj.opts.type;\n        src = obj.src || \"\";\n\n        if (!type && src) {\n          if ((found = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n            type = \"video\";\n\n            if (!obj.opts.video.format) {\n              obj.opts.video.format = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n            }\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n            type = \"image\";\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n            type = \"iframe\";\n            obj = $.extend(true, obj, {\n              contentType: \"pdf\",\n              opts: {\n                iframe: {\n                  preload: false\n                }\n              }\n            });\n          } else if (src.charAt(0) === \"#\") {\n            type = \"inline\";\n          }\n        }\n\n        if (type) {\n          obj.type = type;\n        } else {\n          self.trigger(\"objectNeedsType\", obj);\n        }\n\n        if (!obj.contentType) {\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n        }\n\n        // Step 3 - Some adjustments\n        // =========================\n\n        obj.index = self.group.length;\n\n        if (obj.opts.smallBtn == \"auto\") {\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n        }\n\n        if (obj.opts.toolbar === \"auto\") {\n          obj.opts.toolbar = !obj.opts.smallBtn;\n        }\n\n        // Find thumbnail image, check if exists and if is in the viewport\n        obj.$thumb = obj.opts.$thumb || null;\n\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\n          obj.$thumb = obj.opts.$trigger.find(\"img:first\");\n\n          if (obj.$thumb.length) {\n            obj.opts.$orig = obj.opts.$trigger;\n          }\n        }\n\n        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {\n          obj.$thumb = obj.opts.$orig.find(\"img:first\");\n        }\n\n        if (obj.$thumb && !obj.$thumb.length) {\n          obj.$thumb = null;\n        }\n\n        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);\n\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item\n        if ($.type(obj.opts.caption) === \"function\") {\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n        }\n\n        if ($.type(self.opts.caption) === \"function\") {\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n        }\n\n        // Make sure we have caption as a string or jQuery object\n        if (!(obj.opts.caption instanceof $)) {\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n        }\n\n        // Check if url contains \"filter\" used to filter the content\n        // Example: \"ajax.html #something\"\n        if (obj.type === \"ajax\") {\n          srcParts = src.split(/\\s+/, 2);\n\n          if (srcParts.length > 1) {\n            obj.src = srcParts.shift();\n\n            obj.opts.filter = srcParts.shift();\n          }\n        }\n\n        // Hide all buttons and disable interactivity for modal items\n        if (obj.opts.modal) {\n          obj.opts = $.extend(true, obj.opts, {\n            trapFocus: true,\n            // Remove buttons\n            infobar: 0,\n            toolbar: 0,\n\n            smallBtn: 0,\n\n            // Disable keyboard navigation\n            keyboard: 0,\n\n            // Disable some modules\n            slideShow: 0,\n            fullScreen: 0,\n            thumbs: 0,\n            touch: 0,\n\n            // Disable click event handlers\n            clickContent: false,\n            clickSlide: false,\n            clickOutside: false,\n            dblclickContent: false,\n            dblclickSlide: false,\n            dblclickOutside: false\n          });\n        }\n\n        // Step 4 - Add processed object to group\n        // ======================================\n\n        self.group.push(obj);\n      });\n\n      // Update controls if gallery is already opened\n      if (Object.keys(self.slides).length) {\n        self.updateControls();\n\n        // Update thumbnails, if needed\n        thumbs = self.Thumbs;\n\n        if (thumbs && thumbs.isActive) {\n          thumbs.create();\n\n          thumbs.focus();\n        }\n      }\n    },\n\n    // Attach an event handler functions for:\n    //   - navigation buttons\n    //   - browser scrolling, resizing;\n    //   - focusing\n    //   - keyboard\n    //   - detecting inactivity\n    // ======================================\n\n    addEvents: function () {\n      var self = this;\n\n      self.removeEvents();\n\n      // Make navigation elements clickable\n      // ==================================\n\n      self.$refs.container\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.close(e);\n        })\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.previous();\n        })\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.next();\n        })\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function (e) {\n          // Click handler for zoom button\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n        });\n\n      // Handle page scrolling and browser resizing\n      // ==========================================\n\n      $W.on(\"orientationchange.fb resize.fb\", function (e) {\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n          if (self.requestId) {\n            cancelAFrame(self.requestId);\n          }\n\n          self.requestId = requestAFrame(function () {\n            self.update(e);\n          });\n        } else {\n          if (self.current && self.current.type === \"iframe\") {\n            self.$refs.stage.hide();\n          }\n\n          setTimeout(\n            function () {\n              self.$refs.stage.show();\n\n              self.update(e);\n            },\n            $.fancybox.isMobile ? 600 : 250\n          );\n        }\n      });\n\n      $D.on(\"keydown.fb\", function (e) {\n        var instance = $.fancybox ? $.fancybox.getInstance() : null,\n          current = instance.current,\n          keycode = e.keyCode || e.which;\n\n        // Trap keyboard focus inside of the modal\n        // =======================================\n\n        if (keycode == 9) {\n          if (current.opts.trapFocus) {\n            self.focus(e);\n          }\n\n          return;\n        }\n\n        // Enable keyboard navigation\n        // ==========================\n\n        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input,textarea,video,audio,select\")) {\n          return;\n        }\n\n        // Backspace and Esc keys\n        if (keycode === 8 || keycode === 27) {\n          e.preventDefault();\n\n          self.close(e);\n\n          return;\n        }\n\n        // Left arrow and Up arrow\n        if (keycode === 37 || keycode === 38) {\n          e.preventDefault();\n\n          self.previous();\n\n          return;\n        }\n\n        // Righ arrow and Down arrow\n        if (keycode === 39 || keycode === 40) {\n          e.preventDefault();\n\n          self.next();\n\n          return;\n        }\n\n        self.trigger(\"afterKeydown\", e, keycode);\n      });\n\n      // Hide controls after some inactivity period\n      if (self.group[self.currIndex].opts.idleTime) {\n        self.idleSecondsCounter = 0;\n\n        $D.on(\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n          function (e) {\n            self.idleSecondsCounter = 0;\n\n            if (self.isIdle) {\n              self.showControls();\n            }\n\n            self.isIdle = false;\n          }\n        );\n\n        self.idleInterval = window.setInterval(function () {\n          self.idleSecondsCounter++;\n\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n            self.isIdle = true;\n            self.idleSecondsCounter = 0;\n\n            self.hideControls();\n          }\n        }, 1000);\n      }\n    },\n\n    // Remove events added by the core\n    // ===============================\n\n    removeEvents: function () {\n      var self = this;\n\n      $W.off(\"orientationchange.fb resize.fb\");\n      $D.off(\"keydown.fb .fb-idle\");\n\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n\n      if (self.idleInterval) {\n        window.clearInterval(self.idleInterval);\n\n        self.idleInterval = null;\n      }\n    },\n\n    // Change to previous gallery item\n    // ===============================\n\n    previous: function (duration) {\n      return this.jumpTo(this.currPos - 1, duration);\n    },\n\n    // Change to next gallery item\n    // ===========================\n\n    next: function (duration) {\n      return this.jumpTo(this.currPos + 1, duration);\n    },\n\n    // Switch to selected gallery item\n    // ===============================\n\n    jumpTo: function (pos, duration) {\n      var self = this,\n        groupLen = self.group.length,\n        firstRun,\n        isMoved,\n        loop,\n        current,\n        previous,\n        slidePos,\n        stagePos,\n        prop,\n        diff;\n\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n        return;\n      }\n\n      // Should loop?\n      pos = parseInt(pos, 10);\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n      if (!loop && (pos < 0 || pos >= groupLen)) {\n        return false;\n      }\n\n      // Check if opening for the first time; this helps to speed things up\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\n\n      // Create slides\n      previous = self.current;\n\n      self.prevIndex = self.currIndex;\n      self.prevPos = self.currPos;\n\n      current = self.createSlide(pos);\n\n      if (groupLen > 1) {\n        if (loop || current.index < groupLen - 1) {\n          self.createSlide(pos + 1);\n        }\n\n        if (loop || current.index > 0) {\n          self.createSlide(pos - 1);\n        }\n      }\n\n      self.current = current;\n      self.currIndex = current.index;\n      self.currPos = current.pos;\n\n      self.trigger(\"beforeShow\", firstRun);\n\n      self.updateControls();\n\n      // Validate duration length\n      current.forcedDuration = undefined;\n\n      if ($.isNumeric(duration)) {\n        current.forcedDuration = duration;\n      } else {\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n      }\n\n      duration = parseInt(duration, 10);\n\n      // Check if user has swiped the slides or if still animating\n      isMoved = self.isMoved(current);\n\n      // Make sure current slide is visible\n      current.$slide.addClass(\"fancybox-slide--current\");\n\n      // Fresh start - reveal container, current slide and start loading content\n      if (firstRun) {\n        if (current.opts.animationEffect && duration) {\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\n        }\n\n        self.$refs.container.addClass(\"fancybox-is-open\").trigger(\"focus\");\n\n        // Attempt to load content into slide\n        // This will later call `afterLoad` -> `revealContent`\n        self.loadSlide(current);\n\n        self.preload(\"image\");\n\n        return;\n      }\n\n      // Get actual slide/stage positions (before cleaning up)\n      slidePos = $.fancybox.getTranslate(previous.$slide);\n      stagePos = $.fancybox.getTranslate(self.$refs.stage);\n\n      // Clean up all slides\n      $.each(self.slides, function (index, slide) {\n        $.fancybox.stop(slide.$slide, true);\n      });\n\n      if (previous.pos !== current.pos) {\n        previous.isComplete = false;\n      }\n\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current\");\n\n      // If slides are out of place, then animate them to correct position\n      if (isMoved) {\n        // Calculate horizontal swipe distance\n        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);\n\n        $.each(self.slides, function (index, slide) {\n          slide.$slide.removeClass(\"fancybox-animated\").removeClass(function (index, className) {\n            return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n          });\n\n          // Make sure that each slide is in equal distance\n          // This is mostly needed for freshly added slides, because they are not yet positioned\n          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: 0,\n            left: leftPos - stagePos.left + diff\n          });\n\n          if (slide.pos !== current.pos) {\n            slide.$slide.addClass(\"fancybox-slide--\" + (slide.pos > current.pos ? \"next\" : \"previous\"));\n          }\n\n          // Redraw to make sure that transition will start\n          forceRedraw(slide.$slide);\n\n          // Animate the slide\n          $.fancybox.animate(\n            slide.$slide, {\n              top: 0,\n              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter\n            },\n            duration,\n            function () {\n              slide.$slide\n                .css({\n                  transform: \"\",\n                  opacity: \"\"\n                })\n                .removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\n              if (slide.pos === self.currPos) {\n                self.complete();\n              }\n            }\n          );\n        });\n      } else if (duration && current.opts.transitionEffect) {\n        // Set transition effect for previously active slide\n        prop = \"fancybox-animated fancybox-fx-\" + current.opts.transitionEffect;\n\n        previous.$slide.addClass(\"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\"));\n\n        $.fancybox.animate(\n          previous.$slide,\n          prop,\n          duration,\n          function () {\n            previous.$slide.removeClass(prop).removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n          },\n          false\n        );\n      }\n\n      if (current.isLoaded) {\n        self.revealContent(current);\n      } else {\n        self.loadSlide(current);\n      }\n\n      self.preload(\"image\");\n    },\n\n    // Create new \"slide\" element\n    // These are gallery items  that are actually added to DOM\n    // =======================================================\n\n    createSlide: function (pos) {\n      var self = this,\n        $slide,\n        index;\n\n      index = pos % self.group.length;\n      index = index < 0 ? self.group.length + index : index;\n\n      if (!self.slides[pos] && self.group[index]) {\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\n          pos: pos,\n          $slide: $slide,\n          isLoaded: false\n        });\n\n        self.updateSlide(self.slides[pos]);\n      }\n\n      return self.slides[pos];\n    },\n\n    // Scale image to the actual size of the image;\n    // x and y values should be relative to the slide\n    // ==============================================\n\n    scaleToActual: function (x, y, duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n        newImgWidth = current.width,\n        newImgHeight = current.height,\n        imgPos,\n        posX,\n        posY,\n        scaleX,\n        scaleY;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      x = x === undefined ? canvasWidth * 0.5 : x;\n      y = y === undefined ? canvasHeight * 0.5 : y;\n\n      imgPos = $.fancybox.getTranslate($content);\n\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n\n      scaleX = newImgWidth / imgPos.width;\n      scaleY = newImgHeight / imgPos.height;\n\n      // Get center position for original image\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\n\n      // Make sure image does not move away from edges\n      if (newImgWidth > canvasWidth) {\n        posX = imgPos.left * scaleX - (x * scaleX - x);\n\n        if (posX > 0) {\n          posX = 0;\n        }\n\n        if (posX < canvasWidth - newImgWidth) {\n          posX = canvasWidth - newImgWidth;\n        }\n      }\n\n      if (newImgHeight > canvasHeight) {\n        posY = imgPos.top * scaleY - (y * scaleY - y);\n\n        if (posY > 0) {\n          posY = 0;\n        }\n\n        if (posY < canvasHeight - newImgHeight) {\n          posY = canvasHeight - newImgHeight;\n        }\n      }\n\n      self.updateCursor(newImgWidth, newImgHeight);\n\n      $.fancybox.animate(\n        $content, {\n          top: posY,\n          left: posX,\n          scaleX: scaleX,\n          scaleY: scaleY\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n\n      // Stop slideshow\n      if (self.SlideShow && self.SlideShow.isActive) {\n        self.SlideShow.stop();\n      }\n    },\n\n    // Scale image to fit inside parent element\n    // ========================================\n\n    scaleToFit: function (duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        end;\n\n      if (self.isAnimating || self.isMoved() || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      self.isAnimating = true;\n\n      $.fancybox.stop($content);\n\n      end = self.getFitPos(current);\n\n      self.updateCursor(end.width, end.height);\n\n      $.fancybox.animate(\n        $content, {\n          top: end.top,\n          left: end.left,\n          scaleX: end.width / $content.width(),\n          scaleY: end.height / $content.height()\n        },\n        duration || 366,\n        function () {\n          self.isAnimating = false;\n        }\n      );\n    },\n\n    // Calculate image size to fit inside viewport\n    // ===========================================\n\n    getFitPos: function (slide) {\n      var self = this,\n        $content = slide.$content,\n        $slide = slide.$slide,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        maxWidth,\n        maxHeight,\n        minRatio,\n        aspectRatio,\n        rez = {};\n\n      if (!slide.isLoaded || !$content || !$content.length) {\n        return false;\n      }\n\n      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;\n      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;\n\n      maxWidth -=\n        parseFloat($slide.css(\"paddingLeft\")) +\n        parseFloat($slide.css(\"paddingRight\")) +\n        parseFloat($content.css(\"marginLeft\")) +\n        parseFloat($content.css(\"marginRight\"));\n\n      maxHeight -=\n        parseFloat($slide.css(\"paddingTop\")) +\n        parseFloat($slide.css(\"paddingBottom\")) +\n        parseFloat($content.css(\"marginTop\")) +\n        parseFloat($content.css(\"marginBottom\"));\n\n      if (!width || !height) {\n        width = maxWidth;\n        height = maxHeight;\n      }\n\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\n\n      width = minRatio * width;\n      height = minRatio * height;\n\n      // Adjust width/height to precisely fit into container\n      if (width > maxWidth - 0.5) {\n        width = maxWidth;\n      }\n\n      if (height > maxHeight - 0.5) {\n        height = maxHeight;\n      }\n\n      if (slide.type === \"image\") {\n        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css(\"paddingTop\"));\n        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css(\"paddingLeft\"));\n      } else if (slide.contentType === \"video\") {\n        // Force aspect ratio for the video\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n\n        if (height > width / aspectRatio) {\n          height = width / aspectRatio;\n        } else if (width > height * aspectRatio) {\n          width = height * aspectRatio;\n        }\n      }\n\n      rez.width = width;\n      rez.height = height;\n\n      return rez;\n    },\n\n    // Update content size and position for all slides\n    // ==============================================\n\n    update: function (e) {\n      var self = this;\n\n      $.each(self.slides, function (key, slide) {\n        self.updateSlide(slide, e);\n      });\n    },\n\n    // Update slide content position and size\n    // ======================================\n\n    updateSlide: function (slide, e) {\n      var self = this,\n        $content = slide && slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        $slide = slide.$slide;\n\n      // First, prevent caption overlap, if needed\n      self.adjustCaption(slide);\n\n      // Then resize content to fit inside the slide\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n        $.fancybox.stop($content);\n\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\n\n        if (slide.pos === self.currPos) {\n          self.isAnimating = false;\n\n          self.updateCursor();\n        }\n      }\n\n      // Then some adjustments\n      self.adjustLayout(slide);\n\n      if ($slide.length) {\n        $slide.trigger(\"refresh\");\n\n        if (slide.pos === self.currPos) {\n          self.$refs.toolbar\n            .add(self.$refs.navigation.find(\".fancybox-button--arrow_right\"))\n            .toggleClass(\"compensate-for-scrollbar\", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);\n        }\n      }\n\n      self.trigger(\"onUpdate\", slide, e);\n    },\n\n    // Horizontally center slide\n    // =========================\n\n    centerSlide: function (duration) {\n      var self = this,\n        current = self.current,\n        $slide = current.$slide;\n\n      if (self.isClosing || !current) {\n        return;\n      }\n\n      $slide.siblings().css({\n        transform: \"\",\n        opacity: \"\"\n      });\n\n      $slide\n        .parent()\n        .children()\n        .removeClass(\"fancybox-slide--previous fancybox-slide--next\");\n\n      $.fancybox.animate(\n        $slide, {\n          top: 0,\n          left: 0,\n          opacity: 1\n        },\n        duration === undefined ? 0 : duration,\n        function () {\n          // Clean up\n          $slide.css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (!current.isComplete) {\n            self.complete();\n          }\n        },\n        false\n      );\n    },\n\n    // Check if current slide is moved (swiped)\n    // ========================================\n\n    isMoved: function (slide) {\n      var current = slide || this.current,\n        slidePos,\n        stagePos;\n\n      if (!current) {\n        return false;\n      }\n\n      stagePos = $.fancybox.getTranslate(this.$refs.stage);\n      slidePos = $.fancybox.getTranslate(current.$slide);\n\n      return (\n        !current.$slide.hasClass(\"fancybox-animated\") &&\n        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)\n      );\n    },\n\n    // Update cursor style depending if content can be zoomed\n    // ======================================================\n\n    updateCursor: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        $container = self.$refs.container,\n        canPan,\n        isZoomable;\n\n      if (!current || self.isClosing || !self.Guestures) {\n        return;\n      }\n\n      $container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan\");\n\n      canPan = self.canPan(nextWidth, nextHeight);\n\n      isZoomable = canPan ? true : self.isZoomable();\n\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n\n      if (canPan) {\n        $container.addClass(\"fancybox-can-pan\");\n      } else if (\n        isZoomable &&\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == \"zoom\"))\n      ) {\n        $container.addClass(\"fancybox-can-zoomIn\");\n      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== \"video\") {\n        $container.addClass(\"fancybox-can-swipe\");\n      }\n    },\n\n    // Check if current slide is zoomable\n    // ==================================\n\n    isZoomable: function () {\n      var self = this,\n        current = self.current,\n        fitPos;\n\n      // Assume that slide is zoomable if:\n      //   - image is still loading\n      //   - actual size of the image is smaller than available area\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n        if (!current.isLoaded) {\n          return true;\n        }\n\n        fitPos = self.getFitPos(current);\n\n        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    // Check if current image dimensions are smaller than actual\n    // =========================================================\n\n    isScaledDown: function (nextWidth, nextHeight) {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content = current.$content;\n\n      if (nextWidth !== undefined && nextHeight !== undefined) {\n        rez = nextWidth < current.width && nextHeight < current.height;\n      } else if ($content) {\n        rez = $.fancybox.getTranslate($content);\n        rez = rez.width < current.width && rez.height < current.height;\n      }\n\n      return rez;\n    },\n\n    // Check if image dimensions exceed parent element\n    // ===============================================\n\n    canPan: function (nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        pos = null,\n        rez = false;\n\n      if (current.type === \"image\" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {\n        rez = self.getFitPos(current);\n\n        if (nextWidth !== undefined && nextHeight !== undefined) {\n          pos = {\n            width: nextWidth,\n            height: nextHeight\n          };\n        } else if (current.isComplete) {\n          pos = $.fancybox.getTranslate(current.$content);\n        }\n\n        if (pos && rez) {\n          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;\n        }\n      }\n\n      return rez;\n    },\n\n    // Load content into the slide\n    // ===========================\n\n    loadSlide: function (slide) {\n      var self = this,\n        type,\n        $slide,\n        ajaxLoad;\n\n      if (slide.isLoading || slide.isLoaded) {\n        return;\n      }\n\n      slide.isLoading = true;\n\n      if (self.trigger(\"beforeLoad\", slide) === false) {\n        slide.isLoading = false;\n\n        return false;\n      }\n\n      type = slide.type;\n      $slide = slide.$slide;\n\n      $slide\n        .off(\"refresh\")\n        .trigger(\"onReset\")\n        .addClass(slide.opts.slideClass);\n\n      // Create content depending on the type\n      switch (type) {\n        case \"image\":\n          self.setImage(slide);\n\n          break;\n\n        case \"iframe\":\n          self.setIframe(slide);\n\n          break;\n\n        case \"html\":\n          self.setContent(slide, slide.src || slide.content);\n\n          break;\n\n        case \"video\":\n          self.setContent(\n            slide,\n            slide.opts.video.tpl\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.opts.videoFormat || slide.opts.video.format || \"\")\n            .replace(\"{{poster}}\", slide.thumb || \"\")\n          );\n\n          break;\n\n        case \"inline\":\n          if ($(slide.src).length) {\n            self.setContent(slide, $(slide.src));\n          } else {\n            self.setError(slide);\n          }\n\n          break;\n\n        case \"ajax\":\n          self.showLoading(slide);\n\n          ajaxLoad = $.ajax(\n            $.extend({}, slide.opts.ajax.settings, {\n              url: slide.src,\n              success: function (data, textStatus) {\n                if (textStatus === \"success\") {\n                  self.setContent(slide, data);\n                }\n              },\n              error: function (jqXHR, textStatus) {\n                if (jqXHR && textStatus !== \"abort\") {\n                  self.setError(slide);\n                }\n              }\n            })\n          );\n\n          $slide.one(\"onReset\", function () {\n            ajaxLoad.abort();\n          });\n\n          break;\n\n        default:\n          self.setError(slide);\n\n          break;\n      }\n\n      return true;\n    },\n\n    // Use thumbnail image, if possible\n    // ================================\n\n    setImage: function (slide) {\n      var self = this,\n        ghost;\n\n      // Check if need to show loading icon\n      setTimeout(function () {\n        var $img = slide.$image;\n\n        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {\n          self.showLoading(slide);\n        }\n      }, 50);\n\n      //Check if image has srcset\n      self.checkSrcset(slide);\n\n      // This will be wrapper containing both ghost and actual image\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\n        .addClass(\"fancybox-is-hidden\")\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n\n      // If we have a thumbnail, we can display it while actual image is loading\n      // Users will not stare at black screen and actual image will appear gradually\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {\n        slide.width = slide.opts.width;\n        slide.height = slide.opts.height;\n\n        ghost = document.createElement(\"img\");\n\n        ghost.onerror = function () {\n          $(this).remove();\n\n          slide.$ghost = null;\n        };\n\n        ghost.onload = function () {\n          self.afterLoad(slide);\n        };\n\n        slide.$ghost = $(ghost)\n          .addClass(\"fancybox-image\")\n          .appendTo(slide.$content)\n          .attr(\"src\", slide.thumb);\n      }\n\n      // Start loading actual image\n      self.setBigImage(slide);\n    },\n\n    // Check if image has srcset and get the source\n    // ============================================\n    checkSrcset: function (slide) {\n      var srcset = slide.opts.srcset || slide.opts.image.srcset,\n        found,\n        temp,\n        pxRatio,\n        windowWidth;\n\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\n      // This is necessary, because when you set an src attribute, the browser will preload the image\n      // before any javascript or even CSS is applied.\n      if (srcset) {\n        pxRatio = window.devicePixelRatio || 1;\n        windowWidth = window.innerWidth * pxRatio;\n\n        temp = srcset.split(\",\").map(function (el) {\n          var ret = {};\n\n          el.trim()\n            .split(/\\s+/)\n            .forEach(function (el, i) {\n              var value = parseInt(el.substring(0, el.length - 1), 10);\n\n              if (i === 0) {\n                return (ret.url = el);\n              }\n\n              if (value) {\n                ret.value = value;\n                ret.postfix = el[el.length - 1];\n              }\n            });\n\n          return ret;\n        });\n\n        // Sort by value\n        temp.sort(function (a, b) {\n          return a.value - b.value;\n        });\n\n        // Ok, now we have an array of all srcset values\n        for (var j = 0; j < temp.length; j++) {\n          var el = temp[j];\n\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n            found = el;\n            break;\n          }\n        }\n\n        // If not found, take the last one\n        if (!found && temp.length) {\n          found = temp[temp.length - 1];\n        }\n\n        if (found) {\n          slide.src = found.url;\n\n          // If we have default width/height values, we can calculate height for matching source\n          if (slide.width && slide.height && found.postfix == \"w\") {\n            slide.height = (slide.width / slide.height) * found.value;\n            slide.width = found.value;\n          }\n\n          slide.opts.srcset = srcset;\n        }\n      }\n    },\n\n    // Create full-size image\n    // ======================\n\n    setBigImage: function (slide) {\n      var self = this,\n        img = document.createElement(\"img\"),\n        $img = $(img);\n\n      slide.$image = $img\n        .one(\"error\", function () {\n          self.setError(slide);\n        })\n        .one(\"load\", function () {\n          var sizes;\n\n          if (!slide.$ghost) {\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n\n            self.afterLoad(slide);\n          }\n\n          if (self.isClosing) {\n            return;\n          }\n\n          if (slide.opts.srcset) {\n            sizes = slide.opts.sizes;\n\n            if (!sizes || sizes === \"auto\") {\n              sizes =\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round((slide.width / slide.height) * 100)) +\n                \"vw\";\n            }\n\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n          }\n\n          // Hide temporary image after some delay\n          if (slide.$ghost) {\n            setTimeout(function () {\n              if (slide.$ghost && !self.isClosing) {\n                slide.$ghost.hide();\n              }\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\n          }\n\n          self.hideLoading(slide);\n        })\n        .addClass(\"fancybox-image\")\n        .attr(\"src\", slide.src)\n        .appendTo(slide.$content);\n\n      if ((img.complete || img.readyState == \"complete\") && $img.naturalWidth && $img.naturalHeight) {\n        $img.trigger(\"load\");\n      } else if (img.error) {\n        $img.trigger(\"error\");\n      }\n    },\n\n    // Computes the slide size from image size and maxWidth/maxHeight\n    // ==============================================================\n\n    resolveImageSlideSize: function (slide, imgWidth, imgHeight) {\n      var maxWidth = parseInt(slide.opts.width, 10),\n        maxHeight = parseInt(slide.opts.height, 10);\n\n      // Sets the default values from the image\n      slide.width = imgWidth;\n      slide.height = imgHeight;\n\n      if (maxWidth > 0) {\n        slide.width = maxWidth;\n        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);\n      }\n\n      if (maxHeight > 0) {\n        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);\n        slide.height = maxHeight;\n      }\n    },\n\n    // Create iframe wrapper, iframe and bindings\n    // ==========================================\n\n    setIframe: function (slide) {\n      var self = this,\n        opts = slide.opts.iframe,\n        $slide = slide.$slide,\n        $iframe;\n\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n        .css(opts.css)\n        .appendTo($slide);\n\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n        .attr(opts.attr)\n        .appendTo(slide.$content);\n\n      if (opts.preload) {\n        self.showLoading(slide);\n\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n        // (due to browser security policy)\n\n        $iframe.on(\"load.fb error.fb\", function (e) {\n          this.isReady = 1;\n\n          slide.$slide.trigger(\"refresh\");\n\n          self.afterLoad(slide);\n        });\n\n        // Recalculate iframe content size\n        // ===============================\n\n        $slide.on(\"refresh.fb\", function () {\n          var $content = slide.$content,\n            frameWidth = opts.css.width,\n            frameHeight = opts.css.height,\n            $contents,\n            $body;\n\n          if ($iframe[0].isReady !== 1) {\n            return;\n          }\n\n          try {\n            $contents = $iframe.contents();\n            $body = $contents.find(\"body\");\n          } catch (ignore) {}\n\n          // Calculate content dimensions, if it is accessible\n          if ($body && $body.length && $body.children().length) {\n            // Avoid scrolling to top (if multiple instances)\n            $slide.css(\"overflow\", \"visible\");\n\n            $content.css({\n              width: \"100%\",\n              \"max-width\": \"100%\",\n              height: \"9999px\"\n            });\n\n            if (frameWidth === undefined) {\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n            }\n\n            $content.css(\"width\", frameWidth ? frameWidth : \"\").css(\"max-width\", \"\");\n\n            if (frameHeight === undefined) {\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n            }\n\n            $content.css(\"height\", frameHeight ? frameHeight : \"\");\n\n            $slide.css(\"overflow\", \"auto\");\n          }\n\n          $content.removeClass(\"fancybox-is-hidden\");\n        });\n      } else {\n        self.afterLoad(slide);\n      }\n\n      $iframe.attr(\"src\", slide.src);\n\n      // Remove iframe if closing or changing gallery item\n      $slide.one(\"onReset\", function () {\n        // This helps IE not to throw errors when closing\n        try {\n          $(this)\n            .find(\"iframe\")\n            .hide()\n            .unbind()\n            .attr(\"src\", \"//about:blank\");\n        } catch (ignore) {}\n\n        $(this)\n          .off(\"refresh.fb\")\n          .empty();\n\n        slide.isLoaded = false;\n        slide.isRevealed = false;\n      });\n    },\n\n    // Wrap and append content to the slide\n    // ======================================\n\n    setContent: function (slide, content) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      self.hideLoading(slide);\n\n      if (slide.$content) {\n        $.fancybox.stop(slide.$content);\n      }\n\n      slide.$slide.empty();\n\n      // If content is a jQuery object, then it will be moved to the slide.\n      // The placeholder is created so we will know where to put it back.\n      if (isQuery(content) && content.parent().length) {\n        // Make sure content is not already moved to fancyBox\n        if (content.hasClass(\"fancybox-content\") || content.parent().hasClass(\"fancybox-content\")) {\n          content.parents(\".fancybox-slide\").trigger(\"onReset\");\n        }\n\n        // Create temporary element marking original place of the content\n        slide.$placeholder = $(\"<div>\")\n          .hide()\n          .insertAfter(content);\n\n        // Make sure content is visible\n        content.css(\"display\", \"inline-block\");\n      } else if (!slide.hasError) {\n        // If content is just a plain text, try to convert it to html\n        if ($.type(content) === \"string\") {\n          content = $(\"<div>\")\n            .append($.trim(content))\n            .contents();\n        }\n\n        // If \"filter\" option is provided, then filter content\n        if (slide.opts.filter) {\n          content = $(\"<div>\")\n            .html(content)\n            .find(slide.opts.filter);\n        }\n      }\n\n      slide.$slide.one(\"onReset\", function () {\n        // Pause all html5 video/audio\n        $(this)\n          .find(\"video,audio\")\n          .trigger(\"pause\");\n\n        // Put content back\n        if (slide.$placeholder) {\n          slide.$placeholder.after(content.removeClass(\"fancybox-content\").hide()).remove();\n\n          slide.$placeholder = null;\n        }\n\n        // Remove custom close button\n        if (slide.$smallBtn) {\n          slide.$smallBtn.remove();\n\n          slide.$smallBtn = null;\n        }\n\n        // Remove content and mark slide as not loaded\n        if (!slide.hasError) {\n          $(this).empty();\n\n          slide.isLoaded = false;\n          slide.isRevealed = false;\n        }\n      });\n\n      $(content).appendTo(slide.$slide);\n\n      if ($(content).is(\"video,audio\")) {\n        $(content).addClass(\"fancybox-video\");\n\n        $(content).wrap(\"<div></div>\");\n\n        slide.contentType = \"video\";\n\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n      }\n\n      slide.$content = slide.$slide\n        .children()\n        .filter(\"div,form,main,video,audio,article,.fancybox-content\")\n        .first();\n\n      slide.$content.siblings().hide();\n\n      // Re-check if there is a valid content\n      // (in some cases, ajax response can contain various elements or plain text)\n      if (!slide.$content.length) {\n        slide.$content = slide.$slide\n          .wrapInner(\"<div></div>\")\n          .children()\n          .first();\n      }\n\n      slide.$content.addClass(\"fancybox-content\");\n\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      self.afterLoad(slide);\n    },\n\n    // Display error message\n    // =====================\n\n    setError: function (slide) {\n      slide.hasError = true;\n\n      slide.$slide\n        .trigger(\"onReset\")\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\n        .addClass(\"fancybox-slide--error\");\n\n      slide.contentType = \"html\";\n\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n\n      if (slide.pos === this.currPos) {\n        this.isAnimating = false;\n      }\n    },\n\n    // Show loading icon inside the slide\n    // ==================================\n\n    showLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && !slide.$spinner) {\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))\n          .appendTo(slide.$slide)\n          .hide()\n          .fadeIn(\"fast\");\n      }\n    },\n\n    // Remove loading icon from the slide\n    // ==================================\n\n    hideLoading: function (slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && slide.$spinner) {\n        slide.$spinner.stop().remove();\n\n        delete slide.$spinner;\n      }\n    },\n\n    // Adjustments after slide content has been loaded\n    // ===============================================\n\n    afterLoad: function (slide) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      slide.isLoading = false;\n      slide.isLoaded = true;\n\n      self.trigger(\"afterLoad\", slide);\n\n      self.hideLoading(slide);\n\n      // Add small close button\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);\n      }\n\n      // Disable right click\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\n        slide.$content.on(\"contextmenu.fb\", function (e) {\n          if (e.button == 2) {\n            e.preventDefault();\n          }\n\n          return true;\n        });\n\n        // Add fake element on top of the image\n        // This makes a bit harder for user to select image\n        if (slide.type === \"image\") {\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n        }\n      }\n\n      self.adjustCaption(slide);\n\n      self.adjustLayout(slide);\n\n      if (slide.pos === self.currPos) {\n        self.updateCursor();\n      }\n\n      self.revealContent(slide);\n    },\n\n    // Prevent caption overlap,\n    // fix css inconsistency across browsers\n    // =====================================\n\n    adjustCaption: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        caption = current.opts.caption,\n        preventOverlap = current.opts.preventCaptionOverlap,\n        $caption = self.$refs.caption,\n        $clone,\n        captionH = false;\n\n      $caption.toggleClass(\"fancybox-caption--separate\", preventOverlap);\n\n      if (preventOverlap && caption && caption.length) {\n        if (current.pos !== self.currPos) {\n          $clone = $caption.clone().appendTo($caption.parent());\n\n          $clone\n            .children()\n            .eq(0)\n            .empty()\n            .html(caption);\n\n          captionH = $clone.outerHeight(true);\n\n          $clone.empty().remove();\n        } else if (self.$caption) {\n          captionH = self.$caption.outerHeight(true);\n        }\n\n        current.$slide.css(\"padding-bottom\", captionH || \"\");\n      }\n    },\n\n    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n    // ====================================================================================\n\n    adjustLayout: function (slide) {\n      var self = this,\n        current = slide || self.current,\n        scrollHeight,\n        marginBottom,\n        inlinePadding,\n        actualPadding;\n\n      if (current.isLoaded && current.opts.disableLayoutFix !== true) {\n        current.$content.css(\"margin-bottom\", \"\");\n\n        // If we would always set margin-bottom for the content,\n        // then it would potentially break vertical align\n        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {\n          inlinePadding = current.$slide[0].style[\"padding-bottom\"];\n          actualPadding = current.$slide.css(\"padding-bottom\");\n\n          if (parseFloat(actualPadding) > 0) {\n            scrollHeight = current.$slide[0].scrollHeight;\n\n            current.$slide.css(\"padding-bottom\", 0);\n\n            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {\n              marginBottom = actualPadding;\n            }\n\n            current.$slide.css(\"padding-bottom\", inlinePadding);\n          }\n        }\n\n        current.$content.css(\"margin-bottom\", marginBottom);\n      }\n    },\n\n    // Make content visible\n    // This method is called right after content has been loaded or\n    // user navigates gallery and transition should start\n    // ============================================================\n\n    revealContent: function (slide) {\n      var self = this,\n        $slide = slide.$slide,\n        end = false,\n        start = false,\n        isMoved = self.isMoved(slide),\n        isRevealed = slide.isRevealed,\n        effect,\n        effectClassName,\n        duration,\n        opacity;\n\n      slide.isRevealed = true;\n\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n\n      if (isMoved || slide.pos !== self.currPos || !duration) {\n        effect = false;\n      }\n\n      // Check if can zoom\n      if (effect === \"zoom\") {\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n          end = self.getFitPos(slide);\n        } else {\n          effect = \"fade\";\n        }\n      }\n\n      // Zoom animation\n      // ==============\n      if (effect === \"zoom\") {\n        self.isAnimating = true;\n\n        end.scaleX = end.width / start.width;\n        end.scaleY = end.height / start.height;\n\n        // Check if we need to animate opacity\n        opacity = slide.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n        }\n\n        if (opacity) {\n          start.opacity = 0.1;\n          end.opacity = 1;\n        }\n\n        // Draw image at start position\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n\n        forceRedraw(slide.$content);\n\n        // Start animation\n        $.fancybox.animate(slide.$content, end, duration, function () {\n          self.isAnimating = false;\n\n          self.complete();\n        });\n\n        return;\n      }\n\n      self.updateSlide(slide);\n\n      // Simply show content if no effect\n      // ================================\n      if (!effect) {\n        slide.$content.removeClass(\"fancybox-is-hidden\");\n\n        if (!isRevealed && isMoved && slide.type === \"image\" && !slide.hasError) {\n          slide.$content.hide().fadeIn(\"fast\");\n        }\n\n        if (slide.pos === self.currPos) {\n          self.complete();\n        }\n\n        return;\n      }\n\n      // Prepare for CSS transiton\n      // =========================\n      $.fancybox.stop($slide);\n\n      //effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n      effectClassName = \"fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-animated fancybox-fx-\" + effect;\n\n      $slide.addClass(effectClassName).removeClass(\"fancybox-slide--current\"); //.addClass(effectClassName);\n\n      slide.$content.removeClass(\"fancybox-is-hidden\");\n\n      // Force reflow\n      forceRedraw($slide);\n\n      if (slide.type !== \"image\") {\n        slide.$content.hide().show(0);\n      }\n\n      $.fancybox.animate(\n        $slide,\n        \"fancybox-slide--current\",\n        duration,\n        function () {\n          $slide.removeClass(effectClassName).css({\n            transform: \"\",\n            opacity: \"\"\n          });\n\n          if (slide.pos === self.currPos) {\n            self.complete();\n          }\n        },\n        true\n      );\n    },\n\n    // Check if we can and have to zoom from thumbnail\n    //================================================\n\n    getThumbPos: function (slide) {\n      var rez = false,\n        $thumb = slide.$thumb,\n        thumbPos,\n        btw,\n        brw,\n        bbw,\n        blw;\n\n      if (!$thumb || !inViewport($thumb[0])) {\n        return false;\n      }\n\n      thumbPos = $.fancybox.getTranslate($thumb);\n\n      btw = parseFloat($thumb.css(\"border-top-width\") || 0);\n      brw = parseFloat($thumb.css(\"border-right-width\") || 0);\n      bbw = parseFloat($thumb.css(\"border-bottom-width\") || 0);\n      blw = parseFloat($thumb.css(\"border-left-width\") || 0);\n\n      rez = {\n        top: thumbPos.top + btw,\n        left: thumbPos.left + blw,\n        width: thumbPos.width - brw - blw,\n        height: thumbPos.height - btw - bbw,\n        scaleX: 1,\n        scaleY: 1\n      };\n\n      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;\n    },\n\n    // Final adjustments after current gallery item is moved to position\n    // and it`s content is loaded\n    // ==================================================================\n\n    complete: function () {\n      var self = this,\n        current = self.current,\n        slides = {},\n        $el;\n\n      if (self.isMoved() || !current.isLoaded) {\n        return;\n      }\n\n      if (!current.isComplete) {\n        current.isComplete = true;\n\n        current.$slide.siblings().trigger(\"onReset\");\n\n        self.preload(\"inline\");\n\n        // Trigger any CSS transiton inside the slide\n        forceRedraw(current.$slide);\n\n        current.$slide.addClass(\"fancybox-slide--complete\");\n\n        // Remove unnecessary slides\n        $.each(self.slides, function (key, slide) {\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\n            slides[slide.pos] = slide;\n          } else if (slide) {\n            $.fancybox.stop(slide.$slide);\n\n            slide.$slide.off().remove();\n          }\n        });\n\n        self.slides = slides;\n      }\n\n      self.isAnimating = false;\n\n      self.updateCursor();\n\n      self.trigger(\"afterShow\");\n\n      // Autoplay first html5 video/audio\n      if (!!current.opts.video.autoStart) {\n        current.$slide\n          .find(\"video,audio\")\n          .filter(\":visible:first\")\n          .trigger(\"play\")\n          .one(\"ended\", function () {\n            if (Document.exitFullscreen) {\n              Document.exitFullscreen();\n            } else if (this.webkitExitFullscreen) {\n              this.webkitExitFullscreen();\n            }\n\n            self.next();\n          });\n      }\n\n      // Try to focus on the first focusable element\n      if (current.opts.autoFocus && current.contentType === \"html\") {\n        // Look for the first input with autofocus attribute\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\n\n        if ($el.length) {\n          $el.trigger(\"focus\");\n        } else {\n          self.focus(null, true);\n        }\n      }\n\n      // Avoid jumping\n      current.$slide.scrollTop(0).scrollLeft(0);\n    },\n\n    // Preload next and previous slides\n    // ================================\n\n    preload: function (type) {\n      var self = this,\n        prev,\n        next;\n\n      if (self.group.length < 2) {\n        return;\n      }\n\n      next = self.slides[self.currPos + 1];\n      prev = self.slides[self.currPos - 1];\n\n      if (prev && prev.type === type) {\n        self.loadSlide(prev);\n      }\n\n      if (next && next.type === type) {\n        self.loadSlide(next);\n      }\n    },\n\n    // Try to find and focus on the first focusable element\n    // ====================================================\n\n    focus: function (e, firstRun) {\n      var self = this,\n        focusableStr = [\n          \"a[href]\",\n          \"area[href]\",\n          'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n          \"select:not([disabled]):not([aria-hidden])\",\n          \"textarea:not([disabled]):not([aria-hidden])\",\n          \"button:not([disabled]):not([aria-hidden])\",\n          \"iframe\",\n          \"object\",\n          \"embed\",\n          \"video\",\n          \"audio\",\n          \"[contenteditable]\",\n          '[tabindex]:not([tabindex^=\"-\"])'\n        ].join(\",\"),\n        focusableItems,\n        focusedItemIndex;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      if (e || !self.current || !self.current.isComplete) {\n        // Focus on any element inside fancybox\n        focusableItems = self.$refs.container.find(\"*:visible\");\n      } else {\n        // Focus inside current slide\n        focusableItems = self.current.$slide.find(\"*:visible\" + (firstRun ? \":not(.fancybox-close-small)\" : \"\"));\n      }\n\n      focusableItems = focusableItems.filter(focusableStr).filter(function () {\n        return $(this).css(\"visibility\") !== \"hidden\" && !$(this).hasClass(\"disabled\");\n      });\n\n      if (focusableItems.length) {\n        focusedItemIndex = focusableItems.index(document.activeElement);\n\n        if (e && e.shiftKey) {\n          // Back tab\n          if (focusedItemIndex < 0 || focusedItemIndex == 0) {\n            e.preventDefault();\n\n            focusableItems.eq(focusableItems.length - 1).trigger(\"focus\");\n          }\n        } else {\n          // Outside or Forward tab\n          if (focusedItemIndex < 0 || focusedItemIndex == focusableItems.length - 1) {\n            if (e) {\n              e.preventDefault();\n            }\n\n            focusableItems.eq(0).trigger(\"focus\");\n          }\n        }\n      } else {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Activates current instance - brings container to the front and enables keyboard,\n    // notifies other instances about deactivating\n    // =================================================================================\n\n    activate: function () {\n      var self = this;\n\n      // Deactivate all instances\n      $(\".fancybox-container\").each(function () {\n        var instance = $(this).data(\"FancyBox\");\n\n        // Skip self and closing instances\n        if (instance && instance.id !== self.id && !instance.isClosing) {\n          instance.trigger(\"onDeactivate\");\n\n          instance.removeEvents();\n\n          instance.isVisible = false;\n        }\n      });\n\n      self.isVisible = true;\n\n      if (self.current || self.isIdle) {\n        self.update();\n\n        self.updateControls();\n      }\n\n      self.trigger(\"onActivate\");\n\n      self.addEvents();\n    },\n\n    // Start closing procedure\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n    // =================================================================================\n\n    close: function (e, d) {\n      var self = this,\n        current = self.current,\n        effect,\n        duration,\n        $content,\n        domRect,\n        opacity,\n        start,\n        end;\n\n      var done = function () {\n        self.cleanUp(e);\n      };\n\n      if (self.isClosing) {\n        return false;\n      }\n\n      self.isClosing = true;\n\n      // If beforeClose callback prevents closing, make sure content is centered\n      if (self.trigger(\"beforeClose\", e) === false) {\n        self.isClosing = false;\n\n        requestAFrame(function () {\n          self.update();\n        });\n\n        return false;\n      }\n\n      // Remove all events\n      // If there are multiple instances, they will be set again by \"activate\" method\n      self.removeEvents();\n\n      $content = current.$content;\n      effect = current.opts.animationEffect;\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\n\n      current.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\n\n      if (e !== true) {\n        $.fancybox.stop(current.$slide);\n      } else {\n        effect = false;\n      }\n\n      // Remove other slides\n      current.$slide\n        .siblings()\n        .trigger(\"onReset\")\n        .remove();\n\n      // Trigger animations\n      if (duration) {\n        self.$refs.container\n          .removeClass(\"fancybox-is-open\")\n          .addClass(\"fancybox-is-closing\")\n          .css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Clean up\n      self.hideLoading(current);\n\n      self.hideControls(true);\n\n      self.updateCursor();\n\n      // Check if possible to zoom-out\n      if (\n        effect === \"zoom\" &&\n        !($content && duration && current.type === \"image\" && !self.isMoved() && !current.hasError && (end = self.getThumbPos(current)))\n      ) {\n        effect = \"fade\";\n      }\n\n      if (effect === \"zoom\") {\n        $.fancybox.stop($content);\n\n        domRect = $.fancybox.getTranslate($content);\n\n        start = {\n          top: domRect.top,\n          left: domRect.left,\n          scaleX: domRect.width / end.width,\n          scaleY: domRect.height / end.height,\n          width: end.width,\n          height: end.height\n        };\n\n        // Check if we need to animate opacity\n        opacity = current.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\n        }\n\n        if (opacity) {\n          end.opacity = 0;\n        }\n\n        $.fancybox.setTranslate($content, start);\n\n        forceRedraw($content);\n\n        $.fancybox.animate($content, end, duration, done);\n\n        return true;\n      }\n\n      if (effect && duration) {\n        $.fancybox.animate(\n          current.$slide.addClass(\"fancybox-slide--previous\").removeClass(\"fancybox-slide--current\"),\n          \"fancybox-animated fancybox-fx-\" + effect,\n          duration,\n          done\n        );\n      } else {\n        // If skip animation\n        if (e === true) {\n          setTimeout(done, duration);\n        } else {\n          done();\n        }\n      }\n\n      return true;\n    },\n\n    // Final adjustments after removing the instance\n    // =============================================\n\n    cleanUp: function (e) {\n      var self = this,\n        instance,\n        $focus = self.current.opts.$orig,\n        x,\n        y;\n\n      self.current.$slide.trigger(\"onReset\");\n\n      self.$refs.container.empty().remove();\n\n      self.trigger(\"afterClose\", e);\n\n      // Place back focus\n      if (!!self.current.opts.backFocus) {\n        if (!$focus || !$focus.length || !$focus.is(\":visible\")) {\n          $focus = self.$trigger;\n        }\n\n        if ($focus && $focus.length) {\n          x = window.scrollX;\n          y = window.scrollY;\n\n          $focus.trigger(\"focus\");\n\n          $(\"html, body\")\n            .scrollTop(y)\n            .scrollLeft(x);\n        }\n      }\n\n      self.current = null;\n\n      // Check if there are other instances\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        instance.activate();\n      } else {\n        $(\"body\").removeClass(\"fancybox-active compensate-for-scrollbar\");\n\n        $(\"#fancybox-style-noscroll\").remove();\n      }\n    },\n\n    // Call callback and trigger an event\n    // ==================================\n\n    trigger: function (name, slide) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        obj = slide && slide.opts ? slide : self.current,\n        rez;\n\n      if (obj) {\n        args.unshift(obj);\n      } else {\n        obj = self;\n      }\n\n      args.unshift(self);\n\n      if ($.isFunction(obj.opts[name])) {\n        rez = obj.opts[name].apply(obj, args);\n      }\n\n      if (rez === false) {\n        return rez;\n      }\n\n      if (name === \"afterClose\" || !self.$refs) {\n        $D.trigger(name + \".fb\", args);\n      } else {\n        self.$refs.container.trigger(name + \".fb\", args);\n      }\n    },\n\n    // Update infobar values, navigation button states and reveal caption\n    // ==================================================================\n\n    updateControls: function () {\n      var self = this,\n        current = self.current,\n        index = current.index,\n        $container = self.$refs.container,\n        $caption = self.$refs.caption,\n        caption = current.opts.caption;\n\n      // Recalculate content dimensions\n      current.$slide.trigger(\"refresh\");\n\n      // Set caption\n      if (caption && caption.length) {\n        self.$caption = $caption;\n\n        $caption\n          .children()\n          .eq(0)\n          .html(caption);\n      } else {\n        self.$caption = null;\n      }\n\n      if (!self.hasHiddenControls && !self.isIdle) {\n        self.showControls();\n      }\n\n      // Update info and navigation elements\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\n\n      $container.find(\"[data-fancybox-prev]\").prop(\"disabled\", !current.opts.loop && index <= 0);\n      $container.find(\"[data-fancybox-next]\").prop(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\n\n      if (current.type === \"image\") {\n        // Re-enable buttons; update download button source\n        $container\n          .find(\"[data-fancybox-zoom]\")\n          .show()\n          .end()\n          .find(\"[data-fancybox-download]\")\n          .attr(\"href\", current.opts.image.src || current.src)\n          .show();\n      } else if (current.opts.toolbar) {\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n      }\n\n      // Make sure focus is not on disabled button/element\n      if ($(document.activeElement).is(\":hidden,[disabled]\")) {\n        self.$refs.container.trigger(\"focus\");\n      }\n    },\n\n    // Hide toolbar and caption\n    // ========================\n\n    hideControls: function (andCaption) {\n      var self = this,\n        arr = [\"infobar\", \"toolbar\", \"nav\"];\n\n      if (andCaption || !self.current.opts.preventCaptionOverlap) {\n        arr.push(\"caption\");\n      }\n\n      this.$refs.container.removeClass(\n        arr\n        .map(function (i) {\n          return \"fancybox-show-\" + i;\n        })\n        .join(\" \")\n      );\n\n      this.hasHiddenControls = true;\n    },\n\n    showControls: function () {\n      var self = this,\n        opts = self.current ? self.current.opts : self.opts,\n        $container = self.$refs.container;\n\n      self.hasHiddenControls = false;\n      self.idleSecondsCounter = 0;\n\n      $container\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n        .toggleClass(\"fancybox-show-caption\", !!self.$caption)\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n    },\n\n    // Toggle toolbar and caption\n    // ==========================\n\n    toggleControls: function () {\n      if (this.hasHiddenControls) {\n        this.showControls();\n      } else {\n        this.hideControls();\n      }\n    }\n  });\n\n  $.fancybox = {\n    version: \"3.5.7\",\n    defaults: defaults,\n\n    // Get current instance and execute a command.\n    //\n    // Examples of usage:\n    //\n    //   $instance = $.fancybox.getInstance();\n    //   $.fancybox.getInstance().jumpTo( 1 );\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\n    //   $.fancybox.getInstance( function() {\n    //       console.info( this.currIndex );\n    //   });\n    // ======================================================\n\n    getInstance: function (command) {\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n        args = Array.prototype.slice.call(arguments, 1);\n\n      if (instance instanceof FancyBox) {\n        if ($.type(command) === \"string\") {\n          instance[command].apply(instance, args);\n        } else if ($.type(command) === \"function\") {\n          command.apply(instance, args);\n        }\n\n        return instance;\n      }\n\n      return false;\n    },\n\n    // Create new instance\n    // ===================\n\n    open: function (items, opts, index) {\n      return new FancyBox(items, opts, index);\n    },\n\n    // Close current or all instances\n    // ==============================\n\n    close: function (all) {\n      var instance = this.getInstance();\n\n      if (instance) {\n        instance.close();\n\n        // Try to find and close next instance\n        if (all === true) {\n          this.close(all);\n        }\n      }\n    },\n\n    // Close all instances and unbind all events\n    // =========================================\n\n    destroy: function () {\n      this.close(true);\n\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\n    },\n\n    // Try to detect mobile devices\n    // ============================\n\n    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n    // Detect if 'translate3d' support is available\n    // ============================================\n\n    use3d: (function () {\n      var div = document.createElement(\"div\");\n\n      return (\n        window.getComputedStyle &&\n        window.getComputedStyle(div) &&\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n        !(document.documentMode && document.documentMode < 11)\n      );\n    })(),\n\n    // Helper function to get current visual state of an element\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n    // =====================================================================\n\n    getTranslate: function ($el) {\n      var domRect;\n\n      if (!$el || !$el.length) {\n        return false;\n      }\n\n      domRect = $el[0].getBoundingClientRect();\n\n      return {\n        top: domRect.top || 0,\n        left: domRect.left || 0,\n        width: domRect.width,\n        height: domRect.height,\n        opacity: parseFloat($el.css(\"opacity\"))\n      };\n    },\n\n    // Shortcut for setting \"translate3d\" properties for element\n    // Can set be used to set opacity, too\n    // ========================================================\n\n    setTranslate: function ($el, props) {\n      var str = \"\",\n        css = {};\n\n      if (!$el || !props) {\n        return;\n      }\n\n      if (props.left !== undefined || props.top !== undefined) {\n        str =\n          (props.left === undefined ? $el.position().left : props.left) +\n          \"px, \" +\n          (props.top === undefined ? $el.position().top : props.top) +\n          \"px\";\n\n        if (this.use3d) {\n          str = \"translate3d(\" + str + \", 0px)\";\n        } else {\n          str = \"translate(\" + str + \")\";\n        }\n      }\n\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\n        str += \" scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n      } else if (props.scaleX !== undefined) {\n        str += \" scaleX(\" + props.scaleX + \")\";\n      }\n\n      if (str.length) {\n        css.transform = str;\n      }\n\n      if (props.opacity !== undefined) {\n        css.opacity = props.opacity;\n      }\n\n      if (props.width !== undefined) {\n        css.width = props.width;\n      }\n\n      if (props.height !== undefined) {\n        css.height = props.height;\n      }\n\n      return $el.css(css);\n    },\n\n    // Simple CSS transition handler\n    // =============================\n\n    animate: function ($el, to, duration, callback, leaveAnimationName) {\n      var self = this,\n        from;\n\n      if ($.isFunction(duration)) {\n        callback = duration;\n        duration = null;\n      }\n\n      self.stop($el);\n\n      from = self.getTranslate($el);\n\n      $el.on(transitionEnd, function (e) {\n        // Skip events from child elements and z-index change\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n          return;\n        }\n\n        self.stop($el);\n\n        if ($.isNumeric(duration)) {\n          $el.css(\"transition-duration\", \"\");\n        }\n\n        if ($.isPlainObject(to)) {\n          if (to.scaleX !== undefined && to.scaleY !== undefined) {\n            self.setTranslate($el, {\n              top: to.top,\n              left: to.left,\n              width: from.width * to.scaleX,\n              height: from.height * to.scaleY,\n              scaleX: 1,\n              scaleY: 1\n            });\n          }\n        } else if (leaveAnimationName !== true) {\n          $el.removeClass(to);\n        }\n\n        if ($.isFunction(callback)) {\n          callback(e);\n        }\n      });\n\n      if ($.isNumeric(duration)) {\n        $el.css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Start animation by changing CSS properties or class name\n      if ($.isPlainObject(to)) {\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\n          delete to.width;\n          delete to.height;\n\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\n            $el.parent().addClass(\"fancybox-is-scaling\");\n          }\n        }\n\n        $.fancybox.setTranslate($el, to);\n      } else {\n        $el.addClass(to);\n      }\n\n      // Make sure that `transitionend` callback gets fired\n      $el.data(\n        \"timer\",\n        setTimeout(function () {\n          $el.trigger(transitionEnd);\n        }, duration + 33)\n      );\n    },\n\n    stop: function ($el, callCallback) {\n      if ($el && $el.length) {\n        clearTimeout($el.data(\"timer\"));\n\n        if (callCallback) {\n          $el.trigger(transitionEnd);\n        }\n\n        $el.off(transitionEnd).css(\"transition-duration\", \"\");\n\n        $el.parent().removeClass(\"fancybox-is-scaling\");\n      }\n    }\n  };\n\n  // Default click handler for \"fancyboxed\" links\n  // ============================================\n\n  function _run(e, opts) {\n    var items = [],\n      index = 0,\n      $target,\n      value,\n      instance;\n\n    // Avoid opening multiple times\n    if (e && e.isDefaultPrevented()) {\n      return;\n    }\n\n    e.preventDefault();\n\n    opts = opts || {};\n\n    if (e && e.data) {\n      opts = mergeOpts(e.data.options, opts);\n    }\n\n    $target = opts.$target || $(e.currentTarget).trigger(\"blur\");\n    instance = $.fancybox.getInstance();\n\n    if (instance && instance.$trigger && instance.$trigger.is($target)) {\n      return;\n    }\n\n    if (opts.selector) {\n      items = $(opts.selector);\n    } else {\n      // Get all related items and find index for clicked one\n      value = $target.attr(\"data-fancybox\") || \"\";\n\n      if (value) {\n        items = e.data ? e.data.items : [];\n        items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n      } else {\n        items = [$target];\n      }\n    }\n\n    index = $(items).index($target);\n\n    // Sometimes current item can not be found\n    if (index < 0) {\n      index = 0;\n    }\n\n    instance = $.fancybox.open(items, opts, index);\n\n    // Save last active element\n    instance.$trigger = $target;\n  }\n\n  // Create a jQuery plugin\n  // ======================\n\n  $.fn.fancybox = function (options) {\n    var selector;\n\n    options = options || {};\n    selector = options.selector || false;\n\n    if (selector) {\n      // Use body element instead of document so it executes first\n      $(\"body\")\n        .off(\"click.fb-start\", selector)\n        .on(\"click.fb-start\", selector, {\n          options: options\n        }, _run);\n    } else {\n      this.off(\"click.fb-start\").on(\n        \"click.fb-start\", {\n          items: this,\n          options: options\n        },\n        _run\n      );\n    }\n\n    return this;\n  };\n\n  // Self initializing plugin for all elements having `data-fancybox` attribute\n  // ==========================================================================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n\n  // Enable \"trigger elements\"\n  // =========================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox-trigger]\", function (e) {\n    $('[data-fancybox=\"' + $(this).attr(\"data-fancybox-trigger\") + '\"]')\n      .eq($(this).attr(\"data-fancybox-index\") || 0)\n      .trigger(\"click.fb-start\", {\n        $trigger: $(this)\n      });\n  });\n\n  // Track focus event for better accessibility styling\n  // ==================================================\n  (function () {\n    var buttonStr = \".fancybox-button\",\n      focusStr = \"fancybox-focus\",\n      $pressed = null;\n\n    $D.on(\"mousedown mouseup focus blur\", buttonStr, function (e) {\n      switch (e.type) {\n        case \"mousedown\":\n          $pressed = $(this);\n          break;\n        case \"mouseup\":\n          $pressed = null;\n          break;\n        case \"focusin\":\n          $(buttonStr).removeClass(focusStr);\n\n          if (!$(this).is($pressed) && !$(this).is(\"[disabled]\")) {\n            $(this).addClass(focusStr);\n          }\n          break;\n        case \"focusout\":\n          $(buttonStr).removeClass(focusStr);\n          break;\n      }\n    });\n  })();\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n(function ($) {\n  'use strict';\n\n  // Object containing properties for each media type\n  var defaults = {\n    youtube: {\n      matcher:\n        /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n      params: {\n        autoplay: 1,\n        autohide: 1,\n        fs: 1,\n        rel: 0,\n        hd: 1,\n        wmode: 'transparent',\n        enablejsapi: 1,\n        html5: 1,\n      },\n      paramPlace: 8,\n      type: 'iframe',\n      url: 'https://www.youtube-nocookie.com/embed/$4',\n      thumb: 'https://img.youtube.com/vi/$4/hqdefault.jpg',\n    },\n\n    vimeo: {\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n      params: {\n        autoplay: 1,\n        hd: 1,\n        show_title: 1,\n        show_byline: 1,\n        show_portrait: 0,\n        fullscreen: 1,\n      },\n      paramPlace: 3,\n      type: 'iframe',\n      url: '//player.vimeo.com/video/$2',\n    },\n\n    rutube: {\n      matcher: /^.+rutube.ru\\/video\\/(.*\\/)?([\\w]+)(.*)\\/?/,\n      params: {\n        frameBorder: 0,\n      },\n      paramPlace: 1,\n      type: 'iframe',\n      url: '//rutube.ru/play/embed/$2',\n    },\n\n    instagram: {\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n      type: 'image',\n      url: '//$1/p/$2/media/?size=l',\n    },\n\n    // Examples:\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n    gmap_place: {\n      matcher:\n        /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n      type: 'iframe',\n      url: function (rez) {\n        return (\n          '//maps.google.' +\n          rez[2] +\n          '/?ll=' +\n          (rez[9]\n            ? rez[9] +\n              '&z=' +\n              Math.floor(rez[10]) +\n              (rez[12] ? rez[12].replace(/^\\//, '&') : '')\n            : rez[12] + ''\n          ).replace(/\\?/, '&') +\n          '&output=' +\n          (rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed')\n        );\n      },\n    },\n\n    // Examples:\n    // https://www.google.com/maps/search/Empire+State+Building/\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n    gmap_search: {\n      matcher:\n        /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n      type: 'iframe',\n      url: function (rez) {\n        return (\n          '//maps.google.' +\n          rez[2] +\n          '/maps?q=' +\n          rez[5].replace('query=', 'q=').replace('api=1', '') +\n          '&output=embed'\n        );\n      },\n    },\n  };\n\n  // Formats matching url to final form\n  var format = function (url, rez, params) {\n    if (!url) {\n      return;\n    }\n\n    params = params || '';\n\n    if ($.type(params) === 'object') {\n      params = $.param(params, true);\n    }\n\n    $.each(rez, function (key, value) {\n      url = url.replace('$' + key, value || '');\n    });\n\n    if (params.length) {\n      url += (url.indexOf('?') > 0 ? '&' : '?') + params;\n    }\n\n    return url;\n  };\n\n  $(document).on('objectNeedsType.fb', function (e, instance, item) {\n    var url = item.src || '',\n      type = false,\n      media,\n      thumb,\n      rez,\n      params,\n      urlParams,\n      paramObj,\n      provider;\n\n    media = $.extend(true, {}, defaults, item.opts.media);\n\n    // Look for any matching media type\n    $.each(media, function (providerName, providerOpts) {\n      rez = url.match(providerOpts.matcher);\n\n      if (!rez) {\n        return;\n      }\n\n      type = providerOpts.type;\n      provider = providerName;\n      paramObj = {};\n\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n        urlParams = rez[providerOpts.paramPlace];\n\n        if (urlParams[0] == '?') {\n          urlParams = urlParams.substring(1);\n        }\n\n        urlParams = urlParams.split('&');\n\n        for (var m = 0; m < urlParams.length; ++m) {\n          var p = urlParams[m].split('=', 2);\n\n          if (p.length == 2) {\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, ' '));\n          }\n        }\n      }\n\n      params = $.extend(\n        true,\n        {},\n        providerOpts.params,\n        item.opts[providerName],\n        paramObj\n      );\n\n      url =\n        $.type(providerOpts.url) === 'function'\n          ? providerOpts.url.call(this, rez, params, item)\n          : format(providerOpts.url, rez, params);\n\n      thumb =\n        $.type(providerOpts.thumb) === 'function'\n          ? providerOpts.thumb.call(this, rez, params, item)\n          : format(providerOpts.thumb, rez);\n\n      if (providerName === 'youtube') {\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function (match, p1, m, s) {\n          return '&start=' + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n        });\n      } else if (providerName === 'vimeo') {\n        url = url.replace('&%23', '#');\n      } else if (providerName === 'rutube') {\n        url = url.replace('&%23', '#');\n      }\n\n      return false;\n    });\n\n    // If it is found, then change content type and update the url\n\n    if (type) {\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n        item.opts.thumb = thumb;\n      }\n\n      if (type === 'iframe') {\n        item.opts = $.extend(true, item.opts, {\n          iframe: {\n            preload: false,\n            attr: {\n              scrolling: 'no',\n            },\n          },\n        });\n      }\n\n      $.extend(item, {\n        type: type,\n        src: url,\n        origSrc: item.src,\n        contentSource: provider,\n        contentType:\n          type === 'image'\n            ? 'image'\n            : provider == 'gmap_place' || provider == 'gmap_search'\n            ? 'map'\n            : 'video',\n      });\n    } else if (url) {\n      item.type = item.opts.defaultType;\n    }\n  });\n\n  // Load YouTube/Video API on request to detect when video finished playing\n  var VideoAPILoader = {\n    youtube: {\n      src: 'https://www.youtube.com/iframe_api',\n      class: 'YT',\n      loading: false,\n      loaded: false,\n    },\n\n    vimeo: {\n      src: 'https://player.vimeo.com/api/player.js',\n      class: 'Vimeo',\n      loading: false,\n      loaded: false,\n    },\n\n    rutube: {\n      src: 'https://static.rutube.ru/static/player_sdk/hls.min.js',\n      class: 'Rutube',\n      loading: false,\n      loaded: false,\n    },\n\n    load: function (vendor) {\n      var _this = this,\n        script;\n\n      if (this[vendor].loaded) {\n        setTimeout(function () {\n          _this.done(vendor);\n        });\n        return;\n      }\n\n      if (this[vendor].loading) {\n        return;\n      }\n\n      this[vendor].loading = true;\n\n      script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = this[vendor].src;\n\n      if (vendor === 'youtube') {\n        window.onYouTubeIframeAPIReady = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      } else {\n        script.onload = function () {\n          _this[vendor].loaded = true;\n          _this.done(vendor);\n        };\n      }\n\n      document.body.appendChild(script);\n    },\n    done: function (vendor) {\n      var instance, $el, player;\n\n      if (vendor === 'youtube') {\n        delete window.onYouTubeIframeAPIReady;\n      }\n\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        $el = instance.current.$content.find('iframe');\n\n        if (vendor === 'youtube' && YT !== undefined && YT) {\n          player = new YT.Player($el.attr('id'), {\n            events: {\n              onStateChange: function (e) {\n                if (e.data == 0) {\n                  instance.next();\n                }\n              },\n            },\n          });\n        } else if (vendor === 'vimeo' && Vimeo !== undefined && Vimeo) {\n          player = new Vimeo.Player($el);\n\n          player.on('ended', function () {\n            instance.next();\n          });\n        }\n      }\n    },\n  };\n\n  $(document).on({\n    'afterShow.fb': function (e, instance, current) {\n      if (\n        instance.group.length > 1 &&\n        (current.contentSource === 'youtube' ||\n          current.contentSource === 'vimeo' ||\n          current.contentSource === 'rutube')\n      ) {\n        VideoAPILoader.load(current.contentSource);\n      }\n    },\n  });\n})(jQuery);\n\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  var requestAFrame = (function () {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function (callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function () {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function (id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  var getPointerXY = function (e) {\n    var result = [];\n\n    e = e.originalEvent || e || window.e;\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n\n    for (var key in e) {\n      if (e[key].pageX) {\n        result.push({\n          x: e[key].pageX,\n          y: e[key].pageY\n        });\n      } else if (e[key].clientX) {\n        result.push({\n          x: e[key].clientX,\n          y: e[key].clientY\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var distance = function (point2, point1, what) {\n    if (!point1 || !point2) {\n      return 0;\n    }\n\n    if (what === \"x\") {\n      return point2.x - point1.x;\n    } else if (what === \"y\") {\n      return point2.y - point1.y;\n    }\n\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n  };\n\n  var isClickable = function ($el) {\n    if (\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio,iframe') ||\n      $.isFunction($el.get(0).onclick) ||\n      $el.data(\"selectable\")\n    ) {\n      return true;\n    }\n\n    // Check for attributes like data-fancybox-next or data-fancybox-close\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var hasScrollbars = function (el) {\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n\n    return vertical || horizontal;\n  };\n\n  var isScrollable = function ($el) {\n    var rez = false;\n\n    while (true) {\n      rez = hasScrollbars($el.get(0));\n\n      if (rez) {\n        break;\n      }\n\n      $el = $el.parent();\n\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n        break;\n      }\n    }\n\n    return rez;\n  };\n\n  var Guestures = function (instance) {\n    var self = this;\n\n    self.instance = instance;\n\n    self.$bg = instance.$refs.bg;\n    self.$stage = instance.$refs.stage;\n    self.$container = instance.$refs.container;\n\n    self.destroy();\n\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n  };\n\n  Guestures.prototype.destroy = function () {\n    var self = this;\n\n    self.$container.off(\".fb.touch\");\n\n    $(document).off(\".fb.touch\");\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n      self.requestId = null;\n    }\n\n    if (self.tapped) {\n      clearTimeout(self.tapped);\n      self.tapped = null;\n    }\n  };\n\n  Guestures.prototype.ontouchstart = function (e) {\n    var self = this,\n      $target = $(e.target),\n      instance = self.instance,\n      current = instance.current,\n      $slide = current.$slide,\n      $content = current.$content,\n      isTouchDevice = e.type == \"touchstart\";\n\n    // Do not respond to both (touch and mouse) events\n    if (isTouchDevice) {\n      self.$container.off(\"mousedown.fb.touch\");\n    }\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Ignore taping on links, buttons, input elements\n    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {\n      return;\n    }\n    // Ignore clicks on the scrollbar\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Ignore clicks while zooming or closing\n    if (!current || instance.isAnimating || current.$slide.hasClass(\"fancybox-animated\")) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    self.realPoints = self.startPoints = getPointerXY(e);\n\n    if (!self.startPoints.length) {\n      return;\n    }\n\n    // Allow other scripts to catch touch event if \"touch\" is set to false\n    if (current.touch) {\n      e.stopPropagation();\n    }\n\n    self.startEvent = e;\n\n    self.canTap = true;\n    self.$target = $target;\n    self.$content = $content;\n    self.opts = current.opts.touch;\n\n    self.isPanning = false;\n    self.isSwiping = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n    self.canPan = instance.canPan();\n\n    self.startTime = new Date().getTime();\n    self.distanceX = self.distanceY = self.distance = 0;\n\n    self.canvasWidth = Math.round($slide[0].clientWidth);\n    self.canvasHeight = Math.round($slide[0].clientHeight);\n\n    self.contentLastPos = null;\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {\n      top: 0,\n      left: 0\n    };\n    self.sliderStartPos = $.fancybox.getTranslate($slide);\n\n    // Since position will be absolute, but we need to make it relative to the stage\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n    self.sliderStartPos.top -= self.stagePos.top;\n    self.sliderStartPos.left -= self.stagePos.left;\n\n    self.contentStartPos.top -= self.stagePos.top;\n    self.contentStartPos.left -= self.stagePos.left;\n\n    $(document)\n      .off(\".fb.touch\")\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n\n    if ($.fancybox.isMobile) {\n      document.addEventListener(\"scroll\", self.onscroll, true);\n    }\n\n    // Skip if clicked outside the sliding area\n    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      if ($target.is(\".fancybox-image\")) {\n        e.preventDefault();\n      }\n\n      if (!($.fancybox.isMobile && $target.parents(\".fancybox-caption\").length)) {\n        return;\n      }\n    }\n\n    self.isScrollable = isScrollable($target) || isScrollable($target.parent());\n\n    // Check if element is scrollable and try to prevent default behavior (scrolling)\n    if (!($.fancybox.isMobile && self.isScrollable)) {\n      e.preventDefault();\n    }\n\n    // One finger or mouse click - swipe or pan an image\n    if (self.startPoints.length === 1 || current.hasError) {\n      if (self.canPan) {\n        $.fancybox.stop(self.$content);\n\n        self.isPanning = true;\n      } else {\n        self.isSwiping = true;\n      }\n\n      self.$container.addClass(\"fancybox-is-grabbing\");\n    }\n\n    // Two fingers - zoom image\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n      self.canTap = false;\n      self.isSwiping = false;\n      self.isPanning = false;\n\n      self.isZooming = true;\n\n      $.fancybox.stop(self.$content);\n\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n    }\n  };\n\n  Guestures.prototype.onscroll = function (e) {\n    var self = this;\n\n    self.isScrolling = true;\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n  };\n\n  Guestures.prototype.ontouchmove = function (e) {\n    var self = this;\n\n    // Make sure user has not released over iframe or disabled element\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n      self.ontouchend(e);\n      return;\n    }\n\n    if (self.isScrolling) {\n      self.canTap = false;\n      return;\n    }\n\n    self.newPoints = getPointerXY(e);\n\n    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {\n      return;\n    }\n\n    if (!(self.isSwiping && self.isSwiping === true)) {\n      e.preventDefault();\n    }\n\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\n\n    // Skip false ontouchmove events (Chrome)\n    if (self.distance > 0) {\n      if (self.isSwiping) {\n        self.onSwipe(e);\n      } else if (self.isPanning) {\n        self.onPan();\n      } else if (self.isZooming) {\n        self.onZoom();\n      }\n    }\n  };\n\n  Guestures.prototype.onSwipe = function (e) {\n    var self = this,\n      instance = self.instance,\n      swiping = self.isSwiping,\n      left = self.sliderStartPos.left || 0,\n      angle;\n\n    // If direction is not yet determined\n    if (swiping === true) {\n      // We need at least 10px distance to correctly calculate an angle\n      if (Math.abs(self.distance) > 10) {\n        self.canTap = false;\n\n        if (instance.group.length < 2 && self.opts.vertical) {\n          self.isSwiping = \"y\";\n        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n          self.isSwiping = \"x\";\n        } else {\n          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);\n\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && self.isScrollable) {\n          self.isScrolling = true;\n\n          return;\n        }\n\n        instance.isDragging = self.isSwiping;\n\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n        self.startPoints = self.newPoints;\n\n        $.each(instance.slides, function (index, slide) {\n          var slidePos, stagePos;\n\n          $.fancybox.stop(slide.$slide);\n\n          slidePos = $.fancybox.getTranslate(slide.$slide);\n          stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n          slide.$slide\n            .css({\n              transform: \"\",\n              opacity: \"\",\n              \"transition-duration\": \"\"\n            })\n            .removeClass(\"fancybox-animated\")\n            .removeClass(function (index, className) {\n              return (className.match(/(^|\\s)fancybox-fx-\\S+/g) || []).join(\" \");\n            });\n\n          if (slide.pos === instance.current.pos) {\n            self.sliderStartPos.top = slidePos.top - stagePos.top;\n            self.sliderStartPos.left = slidePos.left - stagePos.left;\n          }\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: slidePos.top - stagePos.top,\n            left: slidePos.left - stagePos.left\n          });\n        });\n\n        // Stop slideshow\n        if (instance.SlideShow && instance.SlideShow.isActive) {\n          instance.SlideShow.stop();\n        }\n      }\n\n      return;\n    }\n\n    // Sticky edges\n    if (swiping == \"x\") {\n      if (\n        self.distanceX > 0 &&\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n      ) {\n        left = left + Math.pow(self.distanceX, 0.8);\n      } else if (\n        self.distanceX < 0 &&\n        (self.instance.group.length < 2 ||\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n      ) {\n        left = left - Math.pow(-self.distanceX, 0.8);\n      } else {\n        left = left + self.distanceX;\n      }\n    }\n\n    self.sliderLastPos = {\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n      left: left\n    };\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function () {\n      if (self.sliderLastPos) {\n        $.each(self.instance.slides, function (index, slide) {\n          var pos = slide.pos - self.instance.currPos;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: self.sliderLastPos.top,\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n          });\n        });\n\n        self.$container.addClass(\"fancybox-is-sliding\");\n      }\n    });\n  };\n\n  Guestures.prototype.onPan = function () {\n    var self = this;\n\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n      self.startPoints = self.newPoints;\n      return;\n    }\n\n    self.canTap = false;\n\n    self.contentLastPos = self.limitMovement();\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  // Make panning sticky to the edges\n  Guestures.prototype.limitMovement = function () {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    var distanceX = self.distanceX;\n    var distanceY = self.distanceY;\n\n    var contentStartPos = self.contentStartPos;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n\n    if (currentWidth > canvasWidth) {\n      newOffsetX = currentOffsetX + distanceX;\n    } else {\n      newOffsetX = currentOffsetX;\n    }\n\n    newOffsetY = currentOffsetY + distanceY;\n\n    // Slow down proportionally to traveled distance\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    //   ->\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n    }\n\n    //    <-\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\n    }\n\n    //   \\/\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n    }\n\n    //   /\\\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    if (newWidth > canvasWidth) {\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n    } else {\n      // Center horizontally\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n    }\n\n    if (newHeight > canvasHeight) {\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n    } else {\n      // Center vertically\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.onZoom = function () {\n    var self = this;\n\n    // Calculate current distance between points to get pinch ratio and new width and height\n    var contentStartPos = self.contentStartPos;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n    var newWidth = Math.floor(currentWidth * pinchRatio);\n    var newHeight = Math.floor(currentHeight * pinchRatio);\n\n    // This is the translation due to pinch-zooming\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n    // Point between the two touches\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n\n    // And this is the translation due to translation of the centerpoint\n    // between the two fingers\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n    // The new offset is the old/current one plus the total translation\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n\n    var newPos = {\n      top: newOffsetY,\n      left: newOffsetX,\n      scaleX: pinchRatio,\n      scaleY: pinchRatio\n    };\n\n    self.canTap = false;\n\n    self.newWidth = newWidth;\n    self.newHeight = newHeight;\n\n    self.contentLastPos = newPos;\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n    }\n\n    self.requestId = requestAFrame(function () {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  Guestures.prototype.ontouchend = function (e) {\n    var self = this;\n\n    var swiping = self.isSwiping;\n    var panning = self.isPanning;\n    var zooming = self.isZooming;\n    var scrolling = self.isScrolling;\n\n    self.endPoints = getPointerXY(e);\n    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);\n\n    self.$container.removeClass(\"fancybox-is-grabbing\");\n\n    $(document).off(\".fb.touch\");\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.isSwiping = false;\n    self.isPanning = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.instance.isDragging = false;\n\n    if (self.canTap) {\n      return self.onTap(e);\n    }\n\n    self.speed = 100;\n\n    // Speed in px/ms\n    self.velocityX = (self.distanceX / self.dMs) * 0.5;\n    self.velocityY = (self.distanceY / self.dMs) * 0.5;\n\n    if (panning) {\n      self.endPanning();\n    } else if (zooming) {\n      self.endZooming();\n    } else {\n      self.endSwiping(swiping, scrolling);\n    }\n\n    return;\n  };\n\n  Guestures.prototype.endSwiping = function (swiping, scrolling) {\n    var self = this,\n      ret = false,\n      len = self.instance.group.length,\n      distanceX = Math.abs(self.distanceX),\n      canAdvance = swiping == \"x\" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),\n      speedX = 300;\n\n    self.sliderLastPos = null;\n\n    // Close if swiped vertically / navigate if horizontally\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n      // Continue vertical movement\n      $.fancybox.animate(\n        self.instance.current.$slide, {\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n          opacity: 0\n        },\n        200\n      );\n      ret = self.instance.close(true, 250);\n    } else if (canAdvance && self.distanceX > 0) {\n      ret = self.instance.previous(speedX);\n    } else if (canAdvance && self.distanceX < 0) {\n      ret = self.instance.next(speedX);\n    }\n\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n      self.instance.centerSlide(200);\n    }\n\n    self.$container.removeClass(\"fancybox-is-sliding\");\n  };\n\n  // Limit panning from edges\n  // ========================\n  Guestures.prototype.endPanning = function () {\n    var self = this,\n      newOffsetX,\n      newOffsetY,\n      newPos;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    if (self.opts.momentum === false || self.dMs > 350) {\n      newOffsetX = self.contentLastPos.left;\n      newOffsetY = self.contentLastPos.top;\n    } else {\n      // Continue movement\n      newOffsetX = self.contentLastPos.left + self.velocityX * 500;\n      newOffsetY = self.contentLastPos.top + self.velocityY * 500;\n    }\n\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n\n    newPos.width = self.contentStartPos.width;\n    newPos.height = self.contentStartPos.height;\n\n    $.fancybox.animate(self.$content, newPos, 366);\n  };\n\n  Guestures.prototype.endZooming = function () {\n    var self = this;\n\n    var current = self.instance.current;\n\n    var newOffsetX, newOffsetY, newPos, reset;\n\n    var newWidth = self.newWidth;\n    var newHeight = self.newHeight;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    newOffsetX = self.contentLastPos.left;\n    newOffsetY = self.contentLastPos.top;\n\n    reset = {\n      top: newOffsetY,\n      left: newOffsetX,\n      width: newWidth,\n      height: newHeight,\n      scaleX: 1,\n      scaleY: 1\n    };\n\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n    $.fancybox.setTranslate(self.$content, reset);\n\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n      self.instance.scaleToFit(150);\n    } else if (newWidth > current.width || newHeight > current.height) {\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n    } else {\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n\n      $.fancybox.animate(self.$content, newPos, 150);\n    }\n  };\n\n  Guestures.prototype.onTap = function (e) {\n    var self = this;\n    var $target = $(e.target);\n\n    var instance = self.instance;\n    var current = instance.current;\n\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\n\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n\n    var where;\n\n    var process = function (prefix) {\n      var action = current.opts[prefix];\n\n      if ($.isFunction(action)) {\n        action = action.apply(instance, [current, e]);\n      }\n\n      if (!action) {\n        return;\n      }\n\n      switch (action) {\n        case \"close\":\n          instance.close(self.startEvent);\n\n          break;\n\n        case \"toggleControls\":\n          instance.toggleControls();\n\n          break;\n\n        case \"next\":\n          instance.next();\n\n          break;\n\n        case \"nextOrClose\":\n          if (instance.group.length > 1) {\n            instance.next();\n          } else {\n            instance.close(self.startEvent);\n          }\n\n          break;\n\n        case \"zoom\":\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n            if (instance.canPan()) {\n              instance.scaleToFit();\n            } else if (instance.isScaledDown()) {\n              instance.scaleToActual(tapX, tapY);\n            } else if (instance.group.length < 2) {\n              instance.close(self.startEvent);\n            }\n          }\n\n          break;\n      }\n    };\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Skip if clicked on the scrollbar\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Check where is clicked\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n      where = \"Outside\";\n    } else if ($target.is(\".fancybox-slide\")) {\n      where = \"Slide\";\n    } else if (\n      instance.current.$content &&\n      instance.current.$content\n      .find($target)\n      .addBack()\n      .filter($target).length\n    ) {\n      where = \"Content\";\n    } else {\n      return;\n    }\n\n    // Check if this is a double tap\n    if (self.tapped) {\n      // Stop previously created single tap\n      clearTimeout(self.tapped);\n      self.tapped = null;\n\n      // Skip if distance between taps is too big\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n        return this;\n      }\n\n      // OK, now we assume that this is a double-tap\n      process(\"dblclick\" + where);\n    } else {\n      // Single tap will be processed if user has not clicked second time within 300ms\n      // or there is no need to wait for double-tap\n      self.tapX = tapX;\n      self.tapY = tapY;\n\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n        self.tapped = setTimeout(function () {\n          self.tapped = null;\n\n          if (!instance.isAnimating) {\n            process(\"click\" + where);\n          }\n        }, 500);\n      } else {\n        process(\"click\" + where);\n      }\n    }\n\n    return this;\n  };\n\n  $(document)\n    .on(\"onActivate.fb\", function (e, instance) {\n      if (instance && !instance.Guestures) {\n        instance.Guestures = new Guestures(instance);\n      }\n    })\n    .on(\"beforeClose.fb\", function (e, instance) {\n      if (instance && instance.Guestures) {\n        instance.Guestures.destroy();\n      }\n    });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      slideShow: '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6.5 5.4v13.2l11-6.6z\"/></svg>' +\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z\"/></svg>' +\n        \"</button>\"\n    },\n    slideShow: {\n      autoStart: false,\n      speed: 3000,\n      progress: true\n    }\n  });\n\n  var SlideShow = function (instance) {\n    this.instance = instance;\n    this.init();\n  };\n\n  $.extend(SlideShow.prototype, {\n    timer: null,\n    isActive: false,\n    $button: null,\n\n    init: function () {\n      var self = this,\n        instance = self.instance,\n        opts = instance.group[instance.currIndex].opts.slideShow;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function () {\n        self.toggle();\n      });\n\n      if (instance.group.length < 2 || !opts) {\n        self.$button.hide();\n      } else if (opts.progress) {\n        self.$progress = $('<div class=\"fancybox-progress\"></div>').appendTo(instance.$refs.inner);\n      }\n    },\n\n    set: function (force) {\n      var self = this,\n        instance = self.instance,\n        current = instance.current;\n\n      // Check if reached last element\n      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {\n        if (self.isActive && current.contentType !== \"video\") {\n          if (self.$progress) {\n            $.fancybox.animate(self.$progress.show(), {\n              scaleX: 1\n            }, current.opts.slideShow.speed);\n          }\n\n          self.timer = setTimeout(function () {\n            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {\n              instance.jumpTo(0);\n            } else {\n              instance.next();\n            }\n          }, current.opts.slideShow.speed);\n        }\n      } else {\n        self.stop();\n        instance.idleSecondsCounter = 0;\n        instance.showControls();\n      }\n    },\n\n    clear: function () {\n      var self = this;\n\n      clearTimeout(self.timer);\n\n      self.timer = null;\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    start: function () {\n      var self = this,\n        current = self.instance.current;\n\n      if (current) {\n        self.$button\n          .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)\n          .removeClass(\"fancybox-button--play\")\n          .addClass(\"fancybox-button--pause\");\n\n        self.isActive = true;\n\n        if (current.isComplete) {\n          self.set(true);\n        }\n\n        self.instance.trigger(\"onSlideShowChange\", true);\n      }\n    },\n\n    stop: function () {\n      var self = this,\n        current = self.instance.current;\n\n      self.clear();\n\n      self.$button\n        .attr(\"title\", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)\n        .removeClass(\"fancybox-button--pause\")\n        .addClass(\"fancybox-button--play\");\n\n      self.isActive = false;\n\n      self.instance.trigger(\"onSlideShowChange\", false);\n\n      if (self.$progress) {\n        self.$progress.removeAttr(\"style\").hide();\n      }\n    },\n\n    toggle: function () {\n      var self = this;\n\n      if (self.isActive) {\n        self.stop();\n      } else {\n        self.start();\n      }\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      if (instance && !instance.SlideShow) {\n        instance.SlideShow = new SlideShow(instance);\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, current, firstRun) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (firstRun) {\n        if (SlideShow && current.opts.slideShow.autoStart) {\n          SlideShow.start();\n        }\n      } else if (SlideShow && SlideShow.isActive) {\n        SlideShow.clear();\n      }\n    },\n\n    \"afterShow.fb\": function (e, instance, current) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow && SlideShow.isActive) {\n        SlideShow.set();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var SlideShow = instance && instance.SlideShow;\n\n      // \"P\" or Spacebar\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n        keypress.preventDefault();\n\n        SlideShow.toggle();\n      }\n    },\n\n    \"beforeClose.fb onDeactivate.fb\": function (e, instance) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow) {\n        SlideShow.stop();\n      }\n    }\n  });\n\n  // Page Visibility API to pause slideshow when window is not active\n  $(document).on(\"visibilitychange\", function () {\n    var instance = $.fancybox.getInstance(),\n      SlideShow = instance && instance.SlideShow;\n\n    if (SlideShow && SlideShow.isActive) {\n      if (document.hidden) {\n        SlideShow.clear();\n      } else {\n        SlideShow.set();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  // Collection of methods supported by user browser\n  var fn = (function () {\n    var fnMap = [\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n      // new WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // old WebKit (Safari 5.1)\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n    ];\n\n    var ret = {};\n\n    for (var i = 0; i < fnMap.length; i++) {\n      var val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (var j = 0; j < val.length; j++) {\n          ret[fnMap[0][j]] = val[j];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  if (fn) {\n    var FullScreen = {\n      request: function (elem) {\n        elem = elem || document.documentElement;\n\n        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n      },\n      exit: function () {\n        document[fn.exitFullscreen]();\n      },\n      toggle: function (elem) {\n        elem = elem || document.documentElement;\n\n        if (this.isFullscreen()) {\n          this.exit();\n        } else {\n          this.request(elem);\n        }\n      },\n      isFullscreen: function () {\n        return Boolean(document[fn.fullscreenElement]);\n      },\n      enabled: function () {\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    };\n\n    $.extend(true, $.fancybox.defaults, {\n      btnTpl: {\n        fullScreen: '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fsenter\" title=\"{{FULL_SCREEN}}\">' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z\"/></svg>' +\n          \"</button>\"\n      },\n      fullScreen: {\n        autoStart: false\n      }\n    });\n\n    $(document).on(fn.fullscreenchange, function () {\n      var isFullscreen = FullScreen.isFullscreen(),\n        instance = $.fancybox.getInstance();\n\n      if (instance) {\n        // If image is zooming, then force to stop and reposition properly\n        if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n          instance.isAnimating = false;\n\n          instance.update(true, true, 0);\n\n          if (!instance.isComplete) {\n            instance.complete();\n          }\n        }\n\n        instance.trigger(\"onFullscreenChange\", isFullscreen);\n\n        instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n\n        instance.$refs.toolbar\n          .find(\"[data-fancybox-fullscreen]\")\n          .toggleClass(\"fancybox-button--fsenter\", !isFullscreen)\n          .toggleClass(\"fancybox-button--fsexit\", isFullscreen);\n      }\n    });\n  }\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var $container;\n\n      if (!fn) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").remove();\n\n        return;\n      }\n\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\n        $container = instance.$refs.container;\n\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          FullScreen.toggle();\n        });\n\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n          FullScreen.request();\n        }\n\n        // Expose API\n        instance.FullScreen = FullScreen;\n      } else if (instance) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      // \"F\"\n      if (instance && instance.FullScreen && keycode === 70) {\n        keypress.preventDefault();\n\n        instance.FullScreen.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n        FullScreen.exit();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var CLASS = \"fancybox-thumbs\",\n    CLASS_ACTIVE = CLASS + \"-active\";\n\n  // Make sure there are default values\n  $.fancybox.defaults = $.extend(\n    true, {\n      btnTpl: {\n        thumbs: '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z\"/></svg>' +\n          \"</button>\"\n      },\n      thumbs: {\n        autoStart: false, // Display thumbnails on opening\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\n        parentEl: \".fancybox-container\", // Container is injected into this element\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n      }\n    },\n    $.fancybox.defaults\n  );\n\n  var FancyThumbs = function (instance) {\n    this.init(instance);\n  };\n\n  $.extend(FancyThumbs.prototype, {\n    $button: null,\n    $grid: null,\n    $list: null,\n    isVisible: false,\n    isActive: false,\n\n    init: function (instance) {\n      var self = this,\n        group = instance.group,\n        enabled = 0;\n\n      self.instance = instance;\n      self.opts = group[instance.currIndex].opts.thumbs;\n\n      instance.Thumbs = self;\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n\n      // Enable thumbs if at least two group items have thumbnails\n      for (var i = 0, len = group.length; i < len; i++) {\n        if (group[i].thumb) {\n          enabled++;\n        }\n\n        if (enabled > 1) {\n          break;\n        }\n      }\n\n      if (enabled > 1 && !!self.opts) {\n        self.$button.removeAttr(\"style\").on(\"click\", function () {\n          self.toggle();\n        });\n\n        self.isActive = true;\n      } else {\n        self.$button.hide();\n      }\n    },\n\n    create: function () {\n      var self = this,\n        instance = self.instance,\n        parentEl = self.opts.parentEl,\n        list = [],\n        src;\n\n      if (!self.$grid) {\n        // Create main element\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\n          instance.$refs.container\n          .find(parentEl)\n          .addBack()\n          .filter(parentEl)\n        );\n\n        // Add \"click\" event that performs gallery navigation\n        self.$grid.on(\"click\", \"a\", function () {\n          instance.jumpTo($(this).attr(\"data-index\"));\n        });\n      }\n\n      // Build the list\n      if (!self.$list) {\n        self.$list = $('<div class=\"' + CLASS + '__list\">').appendTo(self.$grid);\n      }\n\n      $.each(instance.group, function (i, item) {\n        src = item.thumb;\n\n        if (!src && item.type === \"image\") {\n          src = item.src;\n        }\n\n        list.push(\n          '<a href=\"javascript:;\" tabindex=\"0\" data-index=\"' +\n          i +\n          '\"' +\n          (src && src.length ? ' style=\"background-image:url(' + src + ')\"' : 'class=\"fancybox-thumbs-missing\"') +\n          \"></a>\"\n        );\n      });\n\n      self.$list[0].innerHTML = list.join(\"\");\n\n      if (self.opts.axis === \"x\") {\n        // Set fixed width for list element to enable horizontal scrolling\n        self.$list.width(\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\n          instance.group.length *\n          self.$list\n          .children()\n          .eq(0)\n          .outerWidth(true)\n        );\n      }\n    },\n\n    focus: function (duration) {\n      var self = this,\n        $list = self.$list,\n        $grid = self.$grid,\n        thumb,\n        thumbPos;\n\n      if (!self.instance.current) {\n        return;\n      }\n\n      thumb = $list\n        .children()\n        .removeClass(CLASS_ACTIVE)\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\n        .addClass(CLASS_ACTIVE);\n\n      thumbPos = thumb.position();\n\n      // Check if need to scroll to make current thumb visible\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n        $list.stop().animate({\n            scrollTop: $list.scrollTop() + thumbPos.top\n          },\n          duration\n        );\n      } else if (\n        self.opts.axis === \"x\" &&\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n      ) {\n        $list\n          .parent()\n          .stop()\n          .animate({\n              scrollLeft: thumbPos.left\n            },\n            duration\n          );\n      }\n    },\n\n    update: function () {\n      var that = this;\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n\n      if (that.isVisible) {\n        if (!that.$grid) {\n          that.create();\n        }\n\n        that.instance.trigger(\"onThumbsShow\");\n\n        that.focus(0);\n      } else if (that.$grid) {\n        that.instance.trigger(\"onThumbsHide\");\n      }\n\n      // Update content position\n      that.instance.update();\n    },\n\n    hide: function () {\n      this.isVisible = false;\n      this.update();\n    },\n\n    show: function () {\n      this.isVisible = true;\n      this.update();\n    },\n\n    toggle: function () {\n      this.isVisible = !this.isVisible;\n      this.update();\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance) {\n      var Thumbs;\n\n      if (instance && !instance.Thumbs) {\n        Thumbs = new FancyThumbs(instance);\n\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n          Thumbs.show();\n        }\n      }\n    },\n\n    \"beforeShow.fb\": function (e, instance, item, firstRun) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible) {\n        Thumbs.focus(firstRun ? 0 : 250);\n      }\n    },\n\n    \"afterKeydown.fb\": function (e, instance, current, keypress, keycode) {\n      var Thumbs = instance && instance.Thumbs;\n\n      // \"G\"\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\n        keypress.preventDefault();\n\n        Thumbs.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function (e, instance) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n        Thumbs.$grid.hide();\n      }\n    }\n  });\n})(document, jQuery);\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n(function (window, document, $) {\n  \"use strict\";\n\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\n  if (!$.escapeSelector) {\n    $.escapeSelector = function (sel) {\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n      var fcssescape = function (ch, asCodePoint) {\n        if (asCodePoint) {\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n          if (ch === \"\\0\") {\n            return \"\\uFFFD\";\n          }\n\n          // Control characters and (dependent upon position) numbers get escaped as code points\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n      };\n\n      return (sel + \"\").replace(rcssescape, fcssescape);\n    };\n  }\n\n  // Get info about gallery name and current index from url\n  function parseUrl() {\n    var hash = window.location.hash.substr(1),\n      rez = hash.split(\"-\"),\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n      gallery = rez.join(\"-\");\n\n    return {\n      hash: hash,\n      /* Index is starting from 1 */\n      index: index < 1 ? 1 : index,\n      gallery: gallery\n    };\n  }\n\n  // Trigger click evnt on links to open new fancyBox instance\n  function triggerFromUrl(url) {\n    if (url.gallery !== \"\") {\n      // If we can find element matching 'data-fancybox' atribute,\n      // then triggering click event should start fancyBox\n      $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n        .eq(url.index - 1)\n        .focus()\n        .trigger(\"click.fb-start\");\n    }\n  }\n\n  // Get gallery name from current instance\n  function getGalleryID(instance) {\n    var opts, ret;\n\n    if (!instance) {\n      return false;\n    }\n\n    opts = instance.current ? instance.current.opts : instance.opts;\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") || opts.$orig.data(\"fancybox-trigger\") : \"\");\n\n    return ret === \"\" ? false : ret;\n  }\n\n  // Start when DOM becomes ready\n  $(function () {\n    // Check if user has disabled this module\n    if ($.fancybox.defaults.hash === false) {\n      return;\n    }\n\n    // Update hash when opening/closing fancyBox\n    $(document).on({\n      \"onInit.fb\": function (e, instance) {\n        var url, gallery;\n\n        if (instance.group[instance.currIndex].opts.hash === false) {\n          return;\n        }\n\n        url = parseUrl();\n        gallery = getGalleryID(instance);\n\n        // Make sure gallery start index matches index from hash\n        if (gallery && url.gallery && gallery == url.gallery) {\n          instance.currIndex = url.index - 1;\n        }\n      },\n\n      \"beforeShow.fb\": function (e, instance, current, firstRun) {\n        var gallery;\n\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        // Check if need to update window hash\n        gallery = getGalleryID(instance);\n\n        if (!gallery) {\n          return;\n        }\n\n        // Variable containing last hash value set by fancyBox\n        // It will be used to determine if fancyBox needs to close after hash change is detected\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n        if (window.location.hash === \"#\" + instance.currentHash) {\n          return;\n        }\n\n        if (firstRun && !instance.origHash) {\n          instance.origHash = window.location.hash;\n        }\n\n        if (instance.hashTimer) {\n          clearTimeout(instance.hashTimer);\n        }\n\n        // Update hash\n        instance.hashTimer = setTimeout(function () {\n          if (\"replaceState\" in window.history) {\n            window.history[firstRun ? \"pushState\" : \"replaceState\"]({},\n              document.title,\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\n            );\n\n            if (firstRun) {\n              instance.hasCreatedHistory = true;\n            }\n          } else {\n            window.location.hash = instance.currentHash;\n          }\n\n          instance.hashTimer = null;\n        }, 300);\n      },\n\n      \"beforeClose.fb\": function (e, instance, current) {\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        clearTimeout(instance.hashTimer);\n\n        // Goto previous history entry\n        if (instance.currentHash && instance.hasCreatedHistory) {\n          window.history.back();\n        } else if (instance.currentHash) {\n          if (\"replaceState\" in window.history) {\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n          } else {\n            window.location.hash = instance.origHash;\n          }\n        }\n\n        instance.currentHash = null;\n      }\n    });\n\n    // Check if need to start/close after url has changed\n    $(window).on(\"hashchange.fb\", function () {\n      var url = parseUrl(),\n        fb = null;\n\n      // Find last fancyBox instance that has \"hash\"\n      $.each(\n        $(\".fancybox-container\")\n        .get()\n        .reverse(),\n        function (index, value) {\n          var tmp = $(value).data(\"FancyBox\");\n\n          if (tmp && tmp.currentHash) {\n            fb = tmp;\n            return false;\n          }\n        }\n      );\n\n      if (fb) {\n        // Now, compare hash values\n        if (fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n          fb.currentHash = null;\n\n          fb.close();\n        }\n      } else if (url.gallery !== \"\") {\n        triggerFromUrl(url);\n      }\n    });\n\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\n    setTimeout(function () {\n      if (!$.fancybox.getInstance()) {\n        triggerFromUrl(parseUrl());\n      }\n    }, 50);\n  });\n})(window, document, jQuery);\n// ==========================================================================\n//\n// Wheel\n// Basic mouse weheel support for gallery navigation\n//\n// ==========================================================================\n(function (document, $) {\n  \"use strict\";\n\n  var prevTime = new Date().getTime();\n\n  $(document).on({\n    \"onInit.fb\": function (e, instance, current) {\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function (e) {\n        var current = instance.current,\n          currTime = new Date().getTime();\n\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\n          return;\n        }\n\n        e = e.originalEvent || e;\n\n        if (currTime - prevTime < 250) {\n          return;\n        }\n\n        prevTime = currTime;\n\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n      });\n    }\n  });\n})(document, jQuery);","/* eslint-disable */\r\n\r\n/**\r\n* Много разных фиксов для ie,\r\n* чтобы не было лишних проблем\r\n* Performance.now()\r\n* forEach\r\n* CustomEvent\r\n* includes\r\n* matches\r\n* closest\r\n* prepend\r\n* append\r\n* before\r\n* remove\r\n* startsWith\r\n* Performance.now()\r\n* https://gist.github.com/paulirish/5438650\r\n*/\r\n\r\nconst ieFix = () => {\r\n\t(function () {\r\n\t\tif (\"performance\" in window == false) {\r\n\t\t\twindow.performance = {};\r\n\t\t}\r\n\r\n\t\t// thanks IE8\r\n\t\tDate.now = (Date.now || function () {\r\n\t\t\treturn new Date().getTime();\r\n\t\t});\r\n\r\n\t\tif (\"now\" in window.performance == false) {\r\n\t\t\tvar nowOffset = Date.now();\r\n\r\n\t\t\tif (performance.timing && performance.timing.navigationStart) {\r\n\t\t\t\tnowOffset = performance.timing.navigationStart\r\n\t\t\t}\r\n\r\n\t\t\twindow.performance.now = function now() {\r\n\t\t\t\treturn Date.now() - nowOffset;\r\n\t\t\t}\r\n\t\t}\r\n\t})();\r\n\r\n\t// forEach\r\n\tif (window.NodeList && !NodeList.prototype.forEach) {\r\n\t\tNodeList.prototype.forEach = function (callback, thisArg) {\r\n\t\t\tthisArg = thisArg || window;\r\n\t\t\tfor (let i = 0; i < this.length; i++) {\r\n\t\t\t\tcallback.call(thisArg, this[i], i, this);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// CustomEvent\r\n\t(function () {\r\n\t\tif (typeof window.CustomEvent === 'function') return false;\r\n\t\tfunction CustomEvent(event, params) {\r\n\t\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\r\n\t\t\tvar evt = document.createEvent('CustomEvent');\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = window.Event.prototype;\r\n\r\n\t\twindow.CustomEvent = CustomEvent;\r\n\t})();\r\n\r\n\t// includes\r\n\tif (!Array.prototype.includes) {\r\n\t\tObject.defineProperty(Array.prototype, 'includes', {\r\n\t\t\tvalue: function (searchElement, fromIndex) {\r\n\r\n\t\t\t\tif (this == null) {\r\n\t\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar o = Object(this);\r\n\r\n\t\t\t\tvar len = o.length >>> 0;\r\n\r\n\t\t\t\tif (len === 0) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar n = fromIndex | 0;\r\n\r\n\t\t\t\tvar k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n\r\n\t\t\t\tfunction sameValueZero(x, y) {\r\n\t\t\t\t\treturn x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\r\n\t\t\t\t}\r\n\r\n\t\t\t\twhile (k < len) {\r\n\t\t\t\t\tif (sameValueZero(o[k], searchElement)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tk++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// matches\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches =\r\n\t\t\tElement.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector ||\r\n\t\t\tElement.prototype.oMatchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tfunction (s) {\r\n\t\t\t\tlet matches = (this.document || this.ownerDocument).querySelectorAll(s);\r\n\t\t\t\tlet i = matches.length;\r\n\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t\twhile (--i >= 0 && matches.item(i) !== this) { }\r\n\t\t\t\treturn i > -1;\r\n\t\t\t};\r\n\t}\r\n\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches =\r\n\t\tElement.prototype.msMatchesSelector ||\r\n\t\tElement.prototype.webkitMatchesSelector;\r\n\t}\r\n\r\n\t// closest\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (s) {\r\n\t\t\tlet el = this;\r\n\r\n\t\t\tdo {\r\n\t\t\t\tif (el.matches(s)) {\r\n\t\t\t\t\treturn el;\r\n\t\t\t\t}\r\n\t\t\t\tel = el.parentElement || el.parentNode;\r\n\t\t\t} while (el !== null && el.nodeType === 1);\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n\r\n\t// prepend\r\n\t(function (arr) {\r\n\t\tarr.forEach(function (item) {\r\n\t\t\tif (item.hasOwnProperty(`prepend`)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tObject.defineProperty(item, `prepend`, {\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\twritable: true,\r\n\t\t\t\tvalue: function prepend() {\r\n\t\t\t\t\t// eslint-disable-next-line prefer-rest-params\r\n\t\t\t\t\tlet argArr = Array.prototype.slice.call(arguments);\r\n\t\t\t\t\tlet docFrag = document.createDocumentFragment();\r\n\r\n\t\t\t\t\targArr.forEach(function (argItem) {\r\n\t\t\t\t\t\tlet isNode = argItem instanceof Node;\r\n\t\t\t\t\t\tdocFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.insertBefore(docFrag, this.firstChild);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n\t// append\r\n\t(function (arr) {\r\n\t\tarr.forEach(function (item) {\r\n\t\t\tif (item.hasOwnProperty(`append`)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tObject.defineProperty(item, `append`, {\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\twritable: true,\r\n\t\t\t\tvalue: function append() {\r\n\t\t\t\t\t// eslint-disable-next-line prefer-rest-params\r\n\t\t\t\t\tlet argArr = Array.prototype.slice.call(arguments);\r\n\t\t\t\t\tlet docFrag = document.createDocumentFragment();\r\n\r\n\t\t\t\t\targArr.forEach(function (argItem) {\r\n\t\t\t\t\t\tlet isNode = argItem instanceof Node;\r\n\t\t\t\t\t\tdocFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.appendChild(docFrag);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n\t// before\r\n\t(function (arr) {\r\n\t\tarr.forEach(function (item) {\r\n\t\t\tif (item.hasOwnProperty(`before`)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tObject.defineProperty(item, `before`, {\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\twritable: true,\r\n\t\t\t\tvalue: function before() {\r\n\t\t\t\t\t// eslint-disable-next-line prefer-rest-params\r\n\t\t\t\t\tlet argArr = Array.prototype.slice.call(arguments);\r\n\t\t\t\t\tlet docFrag = document.createDocumentFragment();\r\n\r\n\t\t\t\t\targArr.forEach(function (argItem) {\r\n\t\t\t\t\t\tlet isNode = argItem instanceof Node;\r\n\t\t\t\t\t\tdocFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.parentNode.insertBefore(docFrag, this);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\r\n\r\n\t// remove\r\n\t(function (arr) {\r\n\t\tarr.forEach(function (item) {\r\n\t\t\tif (item.hasOwnProperty(`remove`)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tObject.defineProperty(item, `remove`, {\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\twritable: true,\r\n\t\t\t\tvalue: function remove() {\r\n\t\t\t\t\tif (this.parentNode !== null) {\r\n\t\t\t\t\t\tthis.parentNode.removeChild(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\r\n\r\n\t// startsWith\r\n\tif (!String.prototype.startsWith) {\r\n\t\t// eslint-disable-next-line no-extend-native\r\n\t\tObject.defineProperty(String.prototype, `startsWith`, {\r\n\t\t\tvalue(search, rawPos) {\r\n\t\t\t\tlet pos = rawPos > 0 ? rawPos | 0 : 0;\r\n\t\t\t\treturn this.substring(pos, pos + search.length) === search;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\t// Fixes\r\n\t//---------------------------------\r\n\r\n\t// ie download\r\n\tconst ie11Download = (el) => {\r\n\t\tif (el.href === ``) {\r\n\t\t\tthrow Error(`The element has no href value.`);\r\n\t\t}\r\n\r\n\t\tlet filename = el.getAttribute(`download`);\r\n\t\tif (filename === null || filename === ``) {\r\n\t\t\tconst tmp = el.href.split(`/`);\r\n\t\t\tfilename = tmp[tmp.length - 1];\r\n\t\t}\r\n\r\n\t\tel.addEventListener(`click`, (evt) => {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tconst xhr = new XMLHttpRequest();\r\n\t\t\txhr.onloadstart = () => {\r\n\t\t\t\txhr.responseType = `blob`;\r\n\t\t\t};\r\n\t\t\txhr.onload = () => {\r\n\t\t\t\tnavigator.msSaveOrOpenBlob(xhr.response, filename);\r\n\t\t\t};\r\n\t\t\txhr.open(`GET`, el.href, true);\r\n\t\t\txhr.send();\r\n\t\t});\r\n\t};\r\n\r\n\tif (window.navigator.msSaveBlob) {\r\n\t\tconst downloadLinks = document.querySelectorAll(`a[download]`);\r\n\t\tif (downloadLinks.length) {\r\n\t\t\tdownloadLinks.forEach((el) => {\r\n\t\t\t\tie11Download(el);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// ie svg focus fix\r\n\tconst unfocusableSvg = () => {\r\n\t\tif (!(!!window.MSInputMethodContext && !!document.documentMode)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst svg = document.querySelectorAll('svg');\r\n\r\n\t\tsvg.forEach((el) => {\r\n\t\t\tel.setAttribute('focusable', 'false');\r\n\t\t});\r\n\t}\r\n\r\n\tunfocusableSvg();\r\n\r\n\t//ie footer nailing\r\n\tconst ieFooterNailing = () => {\r\n\t\tconst main = document.querySelector('main');\r\n\t\tconst header = document.querySelector('.header');\r\n\t\tconst footer = document.querySelector('.footer');\r\n\r\n\t\tlet headerH;\r\n\t\tlet footerH;\r\n\t\tlet mainHMin;\r\n\r\n\t\tif (!main || !(!!window.MSInputMethodContext && !!document.documentMode)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst mainHeight = () => {\r\n\t\t\t// eslint-disable-next-line no-unused-expressions\r\n\t\t\theader ? headerH = header.getBoundingClientRect().height : headerH = 0;\r\n\t\t\t// eslint-disable-next-line no-unused-expressions\r\n\t\t\tfooter ? footerH = footer.getBoundingClientRect().height : footerH = 0;\r\n\t\t\tmainHMin = window.innerHeight;\r\n\r\n\t\t\tmain.style.minHeight = mainHMin - (headerH + footerH) + 'px';\r\n\t\t};\r\n\r\n\t\tdocument.addEventListener('loadDOMContentLoaded', mainHeight());\r\n\t\twindow.addEventListener('resize', mainHeight);\r\n\t};\r\n\r\n\tieFooterNailing();\r\n};\r\n\r\nexport { ieFix };\r\n","/**\r\n * author Christopher Blum\r\n *    - based on the idea of Remy Sharp, http://remysharp.com/2009/01/26/element-in-view-event-plugin/\r\n *    - forked from http://github.com/zuk/jquery.inview/\r\n */\r\n(function (factory) {\r\n  if (typeof define == 'function' && define.amd) {\r\n    // AMD\r\n    define(['jquery'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node, CommonJS\r\n    module.exports = factory(require('jquery'));\r\n  } else {\r\n      // Browser globals\r\n    factory(jQuery);\r\n  }\r\n}(function ($) {\r\n\r\n  var inviewObjects = [], viewportSize, viewportOffset,\r\n      d = document, w = window, documentElement = d.documentElement, timer;\r\n\r\n  $.event.special.inview = {\r\n    add: function(data) {\r\n      inviewObjects.push({ data: data, $element: $(this), element: this });\r\n      // Use setInterval in order to also make sure this captures elements within\r\n      // \"overflow:scroll\" elements or elements that appeared in the dom tree due to\r\n      // dom manipulation and reflow\r\n      // old: $(window).scroll(checkInView);\r\n      //\r\n      // By the way, iOS (iPad, iPhone, ...) seems to not execute, or at least delays\r\n      // intervals while the user scrolls. Therefore the inview event might fire a bit late there\r\n      //\r\n      // Don't waste cycles with an interval until we get at least one element that\r\n      // has bound to the inview event.\r\n      if (!timer && inviewObjects.length) {\r\n         timer = setInterval(checkInView, 250);\r\n      }\r\n    },\r\n\r\n    remove: function(data) {\r\n      for (var i=0; i<inviewObjects.length; i++) {\r\n        var inviewObject = inviewObjects[i];\r\n        if (inviewObject.element === this && inviewObject.data.guid === data.guid) {\r\n          inviewObjects.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Clear interval when we no longer have any elements listening\r\n      if (!inviewObjects.length) {\r\n         clearInterval(timer);\r\n         timer = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  function getViewportSize() {\r\n    var mode, domObject, size = { height: w.innerHeight, width: w.innerWidth };\r\n\r\n    // if this is correct then return it. iPad has compat Mode, so will\r\n    // go into check clientHeight/clientWidth (which has the wrong value).\r\n    if (!size.height) {\r\n      mode = d.compatMode;\r\n      if (mode || !$.support.boxModel) { // IE, Gecko\r\n        domObject = mode === 'CSS1Compat' ?\r\n          documentElement : // Standards\r\n          d.body; // Quirks\r\n        size = {\r\n          height: domObject.clientHeight,\r\n          width:  domObject.clientWidth\r\n        };\r\n      }\r\n    }\r\n\r\n    return size;\r\n  }\r\n\r\n  function getViewportOffset() {\r\n    return {\r\n      top:  w.pageYOffset || documentElement.scrollTop   || d.body.scrollTop,\r\n      left: w.pageXOffset || documentElement.scrollLeft  || d.body.scrollLeft\r\n    };\r\n  }\r\n\r\n  function checkInView() {\r\n    if (!inviewObjects.length) {\r\n      return;\r\n    }\r\n\r\n    var i = 0, $elements = $.map(inviewObjects, function(inviewObject) {\r\n      var selector  = inviewObject.data.selector,\r\n          $element  = inviewObject.$element;\r\n      return selector ? $element.find(selector) : $element;\r\n    });\r\n\r\n    viewportSize   = viewportSize   || getViewportSize();\r\n    viewportOffset = viewportOffset || getViewportOffset();\r\n\r\n    for (; i<inviewObjects.length; i++) {\r\n      // Ignore elements that are not in the DOM tree\r\n      if (!$.contains(documentElement, $elements[i][0])) {\r\n        continue;\r\n      }\r\n\r\n      var $element      = $($elements[i]),\r\n          elementSize   = { height: $element[0].offsetHeight, width: $element[0].offsetWidth },\r\n          elementOffset = $element.offset(),\r\n          inView        = $element.data('inview'),\r\n          offset        = parseInt($element.data('offset'), 10) || 0;\r\n\r\n      // Don't ask me why because I haven't figured out yet:\r\n      // viewportOffset and viewportSize are sometimes suddenly null in Firefox 5.\r\n      // Even though it sounds weird:\r\n      // It seems that the execution of this function is interferred by the onresize/onscroll event\r\n      // where viewportOffset and viewportSize are unset\r\n      if (!viewportOffset || !viewportSize) {\r\n        return;\r\n      }\r\n\r\n      if (elementOffset.top + elementSize.height > viewportOffset.top &&\r\n          elementOffset.top + (viewportSize.height * offset / 100) < viewportOffset.top + viewportSize.height &&\r\n          elementOffset.left + elementSize.width > viewportOffset.left &&\r\n          elementOffset.left < viewportOffset.left + viewportSize.width) {\r\n        if (!inView) {\r\n          $element.data('inview', true).trigger('inview', [true]);\r\n        }\r\n      } else if (inView) {\r\n        $element.data('inview', false).trigger('inview', [false]);\r\n      }\r\n    }\r\n  }\r\n\r\n  $(w).bind(\"scroll resize scrollstop\", function() {\r\n    viewportSize = viewportOffset = null;\r\n  });\r\n\r\n  // IE < 9 scrolls to focused elements without firing the \"scroll\" event\r\n  if (!documentElement.addEventListener && documentElement.attachEvent) {\r\n    documentElement.attachEvent(\"onfocusin\", function() {\r\n      viewportOffset = null;\r\n    });\r\n  }\r\n}));\r\n","/**\r\n* Модуль исправления багов на iOs устройствах\r\n* определяет высоту экрана и при любом изменении переопределяет её\r\n* в стилях используйте кастомные стили var(--vh)\r\n*/\r\nconst vhFix = () => {\r\n\tif (!(!!window.MSInputMethodContext && !!document.documentMode)) {\r\n\t\tlet vh = window.innerHeight;\r\n\t\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tvh = window.innerHeight;\r\n\t\t\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport {vhFix};\r\n"],"sourceRoot":""}